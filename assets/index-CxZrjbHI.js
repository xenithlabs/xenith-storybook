import{b as K,_ as Q,d as ye,a as ee,h as ve,$ as U}from"./index-DuXoWBk8.js";import{r as o}from"./index-DRjF_FHU.js";import{c as Pe,o as be,s as _e,f as Ae,a as Se,h as Re,b as V,l as Ee,d as Ce}from"./floating-ui.dom-BuxmzwbT.js";import{r as De}from"./index-CxRLcT2J.js";import{$ as Oe}from"./index-KY2xTor3.js";var j=typeof document<"u"?o.useLayoutEffect:o.useEffect;function L(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!L(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const c=a[n];if(!(c==="_owner"&&e.$$typeof)&&!L(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function te(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function G(e,t){const r=te(e);return Math.round(t*r)/r}function J(e){const t=o.useRef(e);return j(()=>{t.current=e}),t}function Me(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:c,floating:l}={},transform:u=!0,whileElementsMounted:w,open:p}=e,[d,f]=o.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[E,$]=o.useState(n);L(E,n)||$(n);const[A,M]=o.useState(null),[h,S]=o.useState(null),g=o.useCallback(i=>{i!==R.current&&(R.current=i,M(i))},[]),m=o.useCallback(i=>{i!==y.current&&(y.current=i,S(i))},[]),s=c||A,x=l||h,R=o.useRef(null),y=o.useRef(null),C=o.useRef(d),H=w!=null,W=J(w),k=J(a),v=o.useCallback(()=>{if(!R.current||!y.current)return;const i={placement:t,strategy:r,middleware:E};k.current&&(i.platform=k.current),Pe(R.current,y.current,i).then(D=>{const _={...D,isPositioned:!0};N.current&&!L(C.current,_)&&(C.current=_,De.flushSync(()=>{f(_)}))})},[E,t,r,k]);j(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(i=>({...i,isPositioned:!1})))},[p]);const N=o.useRef(!1);j(()=>(N.current=!0,()=>{N.current=!1}),[]),j(()=>{if(s&&(R.current=s),x&&(y.current=x),s&&x){if(W.current)return W.current(s,x,v);v()}},[s,x,v,W,H]);const P=o.useMemo(()=>({reference:R,floating:y,setReference:g,setFloating:m}),[g,m]),b=o.useMemo(()=>({reference:s,floating:x}),[s,x]),z=o.useMemo(()=>{const i={position:r,left:0,top:0};if(!b.floating)return i;const D=G(b.floating,d.x),_=G(b.floating,d.y);return u?{...i,transform:"translate("+D+"px, "+_+"px)",...te(b.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:_}},[r,u,b.floating,d.x,d.y]);return o.useMemo(()=>({...d,update:v,refs:P,elements:b,floatingStyles:z}),[d,v,P,b,z])}const He=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?V({element:n.current,padding:a}).fn(r):{}:n?V({element:n,padding:a}).fn(r):{}}}},We=(e,t)=>({...be(e),options:[e,t]}),ke=(e,t)=>({..._e(e),options:[e,t]}),Ne=(e,t)=>({...Ee(e),options:[e,t]}),ze=(e,t)=>({...Ae(e),options:[e,t]}),Fe=(e,t)=>({...Se(e),options:[e,t]}),Ye=(e,t)=>({...Re(e),options:[e,t]}),Be=(e,t)=>({...He(e),options:[e,t]});const re="Popper",[ne,et]=ye(re),[Ie,oe]=ne(re),Xe=e=>{const{__scopePopper:t,children:r}=e,[n,a]=o.useState(null);return o.createElement(Ie,{scope:t,anchor:n,onAnchorChange:a},r)},je="PopperAnchor",Le=o.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,c=oe(je,r),l=o.useRef(null),u=ee(t,l);return o.useEffect(()=>{c.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:o.createElement(K.div,Q({},a,{ref:u}))}),ae="PopperContent",[Te,tt]=ne(ae),Ze=o.forwardRef((e,t)=>{var r,n,a,c,l,u,w,p;const{__scopePopper:d,side:f="bottom",sideOffset:E=0,align:$="center",alignOffset:A=0,arrowPadding:M=0,avoidCollisions:h=!0,collisionBoundary:S=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:s=!1,updatePositionStrategy:x="optimized",onPlaced:R,...y}=e,C=oe(ae,d),[H,W]=o.useState(null),k=ee(t,F=>W(F)),[v,N]=o.useState(null),P=Oe(v),b=(r=P==null?void 0:P.width)!==null&&r!==void 0?r:0,z=(n=P==null?void 0:P.height)!==null&&n!==void 0?n:0,i=f+($!=="center"?"-"+$:""),D=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},_=Array.isArray(S)?S:[S],ce=_.length>0,Y={padding:D,boundary:_.filter(qe),altBoundary:ce},{refs:se,floatingStyles:T,placement:le,isPositioned:B,middlewareData:O}=Me({strategy:"fixed",placement:i,whileElementsMounted:(...F)=>Ce(...F,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[We({mainAxis:E+z,alignmentAxis:A}),h&&ke({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Ne():void 0,...Y}),h&&ze({...Y}),Fe({...Y,apply:({elements:F,rects:q,availableWidth:we,availableHeight:he})=>{const{width:ge,height:xe}=q.reference,X=F.floating.style;X.setProperty("--radix-popper-available-width",`${we}px`),X.setProperty("--radix-popper-available-height",`${he}px`),X.setProperty("--radix-popper-anchor-width",`${ge}px`),X.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),v&&Be({element:v,padding:M}),Ue({arrowWidth:b,arrowHeight:z}),s&&Ye({strategy:"referenceHidden",...Y})]}),[Z,de]=ie(le),I=ve(R);U(()=>{B&&(I==null||I())},[B,I]);const fe=(a=O.arrow)===null||a===void 0?void 0:a.x,ue=(c=O.arrow)===null||c===void 0?void 0:c.y,pe=((l=O.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[$e,me]=o.useState();return U(()=>{H&&me(window.getComputedStyle(H).zIndex)},[H]),o.createElement("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:B?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(u=O.transformOrigin)===null||u===void 0?void 0:u.x,(w=O.transformOrigin)===null||w===void 0?void 0:w.y].join(" ")},dir:e.dir},o.createElement(Te,{scope:d,placedSide:Z,onArrowChange:N,arrowX:fe,arrowY:ue,shouldHideArrow:pe},o.createElement(K.div,Q({"data-side":Z,"data-align":de},y,{ref:k,style:{...y.style,animation:B?void 0:"none",opacity:(p=O.hide)!==null&&p!==void 0&&p.referenceHidden?0:void 0}}))))});function qe(e){return e!==null}const Ue=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,c,l;const{placement:u,rects:w,middlewareData:p}=t,f=((r=p.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,E=f?0:e.arrowWidth,$=f?0:e.arrowHeight,[A,M]=ie(u),h={start:"0%",center:"50%",end:"100%"}[M],S=((n=(a=p.arrow)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0)+E/2,g=((c=(l=p.arrow)===null||l===void 0?void 0:l.y)!==null&&c!==void 0?c:0)+$/2;let m="",s="";return A==="bottom"?(m=f?h:`${S}px`,s=`${-$}px`):A==="top"?(m=f?h:`${S}px`,s=`${w.floating.height+$}px`):A==="right"?(m=`${-$}px`,s=f?h:`${g}px`):A==="left"&&(m=`${w.floating.width+$}px`,s=f?h:`${g}px`),{data:{x:m,y:s}}}});function ie(e){const[t,r="center"]=e.split("-");return[t,r]}const rt=Xe,nt=Le,ot=Ze;export{et as $,nt as a,rt as b,ot as c};
