import{r as t,R as i}from"./index-l2PZgWEW.js";import{_ as S,c as N,d as _,a as b}from"./index-BgmTQNcy.js";const h=t.forwardRef((o,r)=>{const{children:e,...n}=o,l=t.Children.toArray(e),c=l.find(T);if(c){const a=c.props.children,p=l.map(C=>C===c?t.Children.count(a)>1?t.Children.only(null):t.isValidElement(a)?a.props.children:null:C);return t.createElement(x,S({},n,{ref:r}),t.isValidElement(a)?t.cloneElement(a,void 0,p):null)}return t.createElement(x,S({},n,{ref:r}),e)});h.displayName="Slot";const x=t.forwardRef((o,r)=>{const{children:e,...n}=o;return t.isValidElement(e)?t.cloneElement(e,{...O(n,e.props),ref:r?N(r,e.ref):e.ref}):t.Children.count(e)>1?t.Children.only(null):null});x.displayName="SlotClone";const P=({children:o})=>t.createElement(t.Fragment,null,o);function T(o){return t.isValidElement(o)&&o.type===P}function O(o,r){const e={...r};for(const n in r){const l=o[n],c=r[n];/^on[A-Z]/.test(n)?l&&c?e[n]=(...p)=>{c(...p),l(...p)}:l&&(e[n]=l):n==="style"?e[n]={...l,...c}:n==="className"&&(e[n]=[l,c].filter(Boolean).join(" "))}return{...o,...e}}function L(o){const r=o+"CollectionProvider",[e,n]=_(r),[l,c]=e(r,{collectionRef:{current:null},itemMap:new Map}),a=u=>{const{scope:s,children:$}=u,f=i.useRef(null),d=i.useRef(new Map).current;return i.createElement(l,{scope:s,itemMap:d,collectionRef:f},$)},p=o+"CollectionSlot",C=i.forwardRef((u,s)=>{const{scope:$,children:f}=u,d=c(p,$),m=b(s,d.collectionRef);return i.createElement(h,{ref:m},f)}),A=o+"CollectionItemSlot",R="data-radix-collection-item",I=i.forwardRef((u,s)=>{const{scope:$,children:f,...d}=u,m=i.useRef(null),M=b(s,m),E=c(A,$);return i.useEffect(()=>(E.itemMap.set(m,{ref:m,...d}),()=>void E.itemMap.delete(m))),i.createElement(h,{[R]:"",ref:M},f)});function y(u){const s=c(o+"CollectionConsumer",u);return i.useCallback(()=>{const f=s.collectionRef.current;if(!f)return[];const d=Array.from(f.querySelectorAll(`[${R}]`));return Array.from(s.itemMap.values()).sort((E,v)=>d.indexOf(E.ref.current)-d.indexOf(v.ref.current))},[s.collectionRef,s.itemMap])}return[{Provider:a,Slot:C,ItemSlot:I},y,n]}export{L as $};
