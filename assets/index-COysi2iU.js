import{_ as d,c as I,d as M,a as x,e as u,b as p,f as F,g as T}from"./index-DuXoWBk8.js";import{r as e}from"./index-DRjF_FHU.js";import{$ as m}from"./index-qtGI3euC.js";import{$ as w,a as S}from"./index-DdILnG7L.js";import{h as k,$ as L,a as V,R as j}from"./index-CWbDPhO_.js";import{$ as D}from"./index-BhXpUKZt.js";const C=e.forwardRef((t,a)=>{const{children:c,...n}=t,r=e.Children.toArray(c),o=r.find(W);if(o){const s=o.props.children,l=r.map(f=>f===o?e.Children.count(s)>1?e.Children.only(null):e.isValidElement(s)?s.props.children:null:f);return e.createElement(_,d({},n,{ref:a}),e.isValidElement(s)?e.cloneElement(s,void 0,l):null)}return e.createElement(_,d({},n,{ref:a}),c)});C.displayName="Slot";const _=e.forwardRef((t,a)=>{const{children:c,...n}=t;return e.isValidElement(c)?e.cloneElement(c,{...H(n,c.props),ref:a?I(a,c.ref):c.ref}):e.Children.count(c)>1?e.Children.only(null):null});_.displayName="SlotClone";const G=({children:t})=>e.createElement(e.Fragment,null,t);function W(t){return e.isValidElement(t)&&t.type===G}function H(t,a){const c={...a};for(const n in a){const r=t[n],o=a[n];/^on[A-Z]/.test(n)?r&&o?c[n]=(...l)=>{o(...l),r(...l)}:r&&(c[n]=r):n==="style"?c[n]={...r,...o}:n==="className"&&(c[n]=[r,o].filter(Boolean).join(" "))}return{...t,...c}}const R="Dialog",[h,ue]=M(R),[Z,i]=h(R),B=t=>{const{__scopeDialog:a,children:c,open:n,defaultOpen:r,onOpenChange:o,modal:s=!0}=t,l=e.useRef(null),f=e.useRef(null),[b=!1,g]=F({prop:n,defaultProp:r,onChange:o});return e.createElement(Z,{scope:a,triggerRef:l,contentRef:f,contentId:m(),titleId:m(),descriptionId:m(),open:b,onOpenChange:g,onOpenToggle:e.useCallback(()=>g(N=>!N),[g]),modal:s},c)},K="DialogTrigger",U=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(K,c),o=x(a,r.triggerRef);return e.createElement(p.button,d({type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":v(r.open)},n,{ref:o,onClick:u(t.onClick,r.onOpenToggle)}))}),O="DialogPortal",[Y,P]=h(O,{forceMount:void 0}),q=t=>{const{__scopeDialog:a,forceMount:c,children:n,container:r}=t,o=i(O,a);return e.createElement(Y,{scope:a,forceMount:c},e.Children.map(n,s=>e.createElement(D,{present:c||o.open},e.createElement(S,{asChild:!0,container:r},s))))},E="DialogOverlay",z=e.forwardRef((t,a)=>{const c=P(E,t.__scopeDialog),{forceMount:n=c.forceMount,...r}=t,o=i(E,t.__scopeDialog);return o.modal?e.createElement(D,{present:n||o.open},e.createElement(J,d({},r,{ref:a}))):null}),J=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(E,c);return e.createElement(j,{as:C,allowPinchZoom:!0,shards:[r.contentRef]},e.createElement(p.div,d({"data-state":v(r.open)},n,{ref:a,style:{pointerEvents:"auto",...n.style}})))}),$="DialogContent",Q=e.forwardRef((t,a)=>{const c=P($,t.__scopeDialog),{forceMount:n=c.forceMount,...r}=t,o=i($,t.__scopeDialog);return e.createElement(D,{present:n||o.open},o.modal?e.createElement(X,d({},r,{ref:a})):e.createElement(ee,d({},r,{ref:a})))}),X=e.forwardRef((t,a)=>{const c=i($,t.__scopeDialog),n=e.useRef(null),r=x(a,c.contentRef,n);return e.useEffect(()=>{const o=n.current;if(o)return k(o)},[]),e.createElement(A,d({},t,{ref:r,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:u(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=c.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:u(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&o.preventDefault()}),onFocusOutside:u(t.onFocusOutside,o=>o.preventDefault())}))}),ee=e.forwardRef((t,a)=>{const c=i($,t.__scopeDialog),n=e.useRef(!1),r=e.useRef(!1);return e.createElement(A,d({},t,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var l;n.current||(l=c.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}n.current=!1,r.current=!1},onInteractOutside:o=>{var s,l;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const f=o.target;((l=c.triggerRef.current)===null||l===void 0?void 0:l.contains(f))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}}))}),A=e.forwardRef((t,a)=>{const{__scopeDialog:c,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o,...s}=t,l=i($,c),f=e.useRef(null),b=x(a,f);return L(),e.createElement(e.Fragment,null,e.createElement(V,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o},e.createElement(w,d({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":v(l.open)},s,{ref:b,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),y="DialogTitle",te=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(y,c);return e.createElement(p.h2,d({id:r.titleId},n,{ref:a}))}),oe="DialogDescription",ce=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(oe,c);return e.createElement(p.p,d({id:r.descriptionId},n,{ref:a}))}),ne="DialogClose",re=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(ne,c);return e.createElement(p.button,d({type:"button"},n,{ref:a,onClick:u(t.onClick,()=>r.onOpenChange(!1))}))});function v(t){return t?"open":"closed"}const ae="DialogTitleWarning",[pe,be]=T(ae,{contentName:$,titleName:y,docsSlug:"dialog"}),ge=B,me=U,_e=q,Ee=z,xe=Q,De=te,ve=ce,Ce=re;export{ge as $,me as a,Ee as b,xe as c,Ce as d,De as e,ve as f,_e as g,ue as h,pe as i};
