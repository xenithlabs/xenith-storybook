import{j as a}from"./jsx-runtime-DR9Q75dM.js";import{r as m}from"./index-DRjF_FHU.js";import{c as U}from"./cn-C-5SdYIA.js";import{I as b}from"./Icon-Bs9G1Rwk.js";import{F as P}from"./calendar-lcr2z1-P.js";import{C as k,T as q}from"./Calendar-AWbfEp_0.js";import{f as E,i as D}from"./format-C0ftWeA9.js";import{P as I,a as M,b as F}from"./Popover-jvvk1f8v.js";import{B as N}from"./Button-X8fnom3X.js";import"./index-Bb4qSo10.js";import"./styles-BNEhTmYy.js";import"./chevron-left-rLDlePxE.js";import"./chevron-right-BqZwpdvf.js";import"./differenceInCalendarDays-akuTVAtC.js";import"./constructFrom-rJN6zrQ_.js";import"./index-DuXoWBk8.js";import"./index-CxRLcT2J.js";import"./index-DdILnG7L.js";import"./index-CWbDPhO_.js";import"./index-qtGI3euC.js";import"./index-CxZrjbHI.js";import"./floating-ui.dom-BuxmzwbT.js";import"./index-KY2xTor3.js";import"./index-BhXpUKZt.js";import"./index-HZDBD2ik.js";import"./spinner-fxOeMmbK.js";import"./chevron-down-DqISSPB-.js";const p=({date:e,fromDate:t,toDate:r,onChange:o,error:c,withUTCOffset:u=!1,...O})=>{const[s,f]=m.useState(e),S=m.useMemo(()=>{if(t&&r)return{before:t,after:r};if(t)return{before:t};if(r)return{after:r}},[t,r]);return m.useEffect(()=>{f(e)},[e]),a.jsxs(I,{children:[a.jsx(M,{asChild:!0,children:a.jsx(N,{variant:"outline",theme:"neutral",className:U("justify-start text-left font-normal items-center",!s&&"text-muted-foreground",{"border-border-critical":c}),icon:a.jsx(b,{icon:a.jsx(P,{})}),children:s?E(u?_(s,u==="revert"):s,"dd MMM yyy"):a.jsx("div",{className:"text-text-weaker",children:O.placeholder??"Pick a date"})})}),a.jsx(F,{className:"w-auto p-0",children:a.jsx(k,{mode:"single",disabled:S,startMonth:t,endMonth:r,selected:s,onSelect:l=>{f(l),o&&o(l)},autoFocus:!0})})]})};p.__docgenInfo={description:"",methods:[],displayName:"DatePicker",props:{date:{required:!1,tsType:{name:"Date"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date?: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},fromDate:{required:!1,tsType:{name:"Date"},description:""},toDate:{required:!1,tsType:{name:"Date"},description:""},error:{required:!1,tsType:{name:"boolean"},description:""},withUTCOffset:{required:!1,tsType:{name:"union",raw:'boolean | "revert"',elements:[{name:"boolean"},{name:"literal",value:'"revert"'}]},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};function W(e){const t=new Date(e);return t.setUTCHours(23,59,59,999),t}function _(e,t=!1){if(typeof e=="string"&&D(new Date(e))||D(e)){const r=new Date(e),o=r.getTimezoneOffset(),c=t?r.getTime()-o*60*1e3:r.getTime()+o*60*1e3;return new Date(c)}return null}const ue={title:"Xenith UI/Components/Date Picker",component:p,decorators:e=>a.jsx("div",{className:"py-10 w-[300px] h-[400px]  pb-40",children:a.jsx(e,{})}),tags:["autodocs"]},n={},i={args:{fromDate:new Date}},d={render:()=>{const[e,t]=m.useState(void 0);return a.jsx(p,{date:e?new q(e,"UTC"):void 0,onChange:r=>{t(r?W(r).toISOString():void 0)},withUTCOffset:!0})}};var g,h,T;n.parameters={...n.parameters,docs:{...(g=n.parameters)==null?void 0:g.docs,source:{originalSource:"{}",...(T=(h=n.parameters)==null?void 0:h.docs)==null?void 0:T.source}}};var x,y,v;i.parameters={...i.parameters,docs:{...(x=i.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    fromDate: new Date()
  }
}`,...(v=(y=i.parameters)==null?void 0:y.docs)==null?void 0:v.source}}};var C,w,j;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = useState<string | undefined>(undefined);
    return <DatePicker date={date ? new TZDate(date, "UTC") : undefined} onChange={date => {
      setDate(date ? endOfDayUTC(date).toISOString() : undefined);
    }} withUTCOffset={true} />;
  }
}`,...(j=(w=d.parameters)==null?void 0:w.docs)==null?void 0:j.source}}};const fe=["Default","WithFromDate","WithEndOfDayUTC"];export{n as Default,d as WithEndOfDayUTC,i as WithFromDate,fe as __namedExportsOrder,ue as default};
