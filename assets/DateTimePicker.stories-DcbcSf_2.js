import{j as t}from"./jsx-runtime-DR9Q75dM.js";import{r as a}from"./index-DRjF_FHU.js";import{c as z}from"./cn-C-5SdYIA.js";import{I as V}from"./Icon-Bs9G1Rwk.js";import{F as X}from"./calendar-lcr2z1-P.js";import{t as j}from"./constructFrom-rJN6zrQ_.js";import{P as A,a as G,b as J}from"./Popover-jvvk1f8v.js";import{B as I}from"./Button-X8fnom3X.js";import{f as K}from"./format-C_zMm074.js";import{C as Q}from"./Calendar-DA_L1uDo.js";import{I as N}from"./useClickOutside-2uX1TXTp.js";import{T as l}from"./Text-BYjIVLkz.js";import{D as Y}from"./Divider-CVEwzqm3.js";import{s as B}from"./differenceInCalendarDays-akuTVAtC.js";import"./index-Bb4qSo10.js";import"./index-DuXoWBk8.js";import"./index-CxRLcT2J.js";import"./index-DdILnG7L.js";import"./index-CWbDPhO_.js";import"./index-qtGI3euC.js";import"./index-CxZrjbHI.js";import"./floating-ui.dom-BuxmzwbT.js";import"./index-KY2xTor3.js";import"./index-BhXpUKZt.js";import"./index-HZDBD2ik.js";import"./styles-BNEhTmYy.js";import"./spinner-fxOeMmbK.js";import"./chevron-down-DqISSPB-.js";import"./chevron-left-rLDlePxE.js";import"./chevron-right-BqZwpdvf.js";import"./search-CWRmq9WO.js";import"./close-CAN3cq4E.js";import"./stringCase-DaZl3p-i.js";import"./check-rKbD1QKS.js";import"./index-CAHntWCK.js";import"./Heading-BbwmavmP.js";import"./Checkbox-C6NF-Wyv.js";import"./index-Bu1UD4WD.js";function Z(e,r){const n=j(e);return n.setHours(r),n}function $(e,r){const n=j(e);return n.setMinutes(r),n}function P(e,r){const n=j(e);return n.setSeconds(r),n}const h=({date:e,fromDate:r,toDate:n,onChange:o,error:F,timeError:v,timeMessage:E,withoutSaveButton:w=!1,popoverProps:U,...W})=>{const[y,b]=a.useState(!1),[s,D]=a.useState(e?new Date(e):void 0),[m,d]=a.useState((e==null?void 0:e.getHours().toString())??"00"),[c,p]=a.useState((e==null?void 0:e.getMinutes().toString())??"00"),[u,f]=a.useState((e==null?void 0:e.getSeconds().toString())??"00"),L=a.useMemo(()=>{if(r&&n)return{before:r,after:n};if(r)return{before:r};if(n)return{after:n}},[r,n]);return a.useEffect(()=>{D(e?new Date(e):void 0),d((e==null?void 0:e.getHours().toLocaleString("en-US",{minimumIntegerDigits:2}))??"00"),p((e==null?void 0:e.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2}))??"00"),f((e==null?void 0:e.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2}))??"00")},[e==null?void 0:e.getTime(),y]),a.useEffect(()=>{if(!s)return;if(Number(m)<0){d("00");return}if(Number(m)>23){d("23");return}if(Number(c)<0){p("00");return}if(Number(c)>59){p("59");return}if(Number(u)<0){f("00");return}if(Number(u)>59){f("59");return}const i=Z($(P(s,Number(u)),Number(c)),Number(m));D(i),w&&(o==null||o(i))},[m,c,u,s==null?void 0:s.getTime()]),t.jsxs(A,{open:y,onOpenChange:b,children:[t.jsx(G,{asChild:!0,children:t.jsx(I,{variant:"outline",theme:"neutral",className:z("justify-start text-left font-normal items-center",!s&&"text-muted-foreground",{"border-border-critical":F}),icon:t.jsx(V,{icon:t.jsx(X,{})}),children:e?K(e,"dd MMM yyy HH:mm:ss"):t.jsx("div",{className:"text-text-weaker",children:W.placeholder??"Pick a date"})})}),t.jsx(J,{className:"w-auto p-0",...U,children:t.jsxs("div",{className:"grid p-6",children:[t.jsxs("div",{className:"flex divide-x",children:[t.jsx(Q,{mode:"single",disabled:L,startMonth:r,endMonth:n,selected:s,onSelect:D,autoFocus:!0,className:"p-0 pt-1 pr-6 border-0 shadow-none"}),t.jsxs("div",{className:"pl-6",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(N,{type:"number",value:m,onChange:i=>d(i.target.value),min:0,max:23,containerClassName:"w-[57px]",className:"text-center appearance-none",placeholder:"00",error:v}),t.jsx(l,{variant:"tiny",className:"text-text-weak",children:"Hour"})]}),t.jsx(l,{className:"flex items-center h-10",children:":"}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(N,{type:"number",value:c,onChange:i=>p(i.target.value),min:0,max:59,containerClassName:"w-[57px]",className:"text-center appearance-none",placeholder:"00",error:v}),t.jsx(l,{variant:"tiny",className:"text-text-weak",children:"Minute"})]}),t.jsx(l,{className:"flex items-center h-10",children:":"}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(N,{type:"number",value:u,onChange:i=>f(i.target.value),min:0,max:59,containerClassName:"w-[57px]",className:"text-center appearance-none",placeholder:"00",error:v}),t.jsx(l,{variant:"tiny",className:"text-text-weak",children:"Second"})]})]}),E]})]}),!w&&t.jsxs(t.Fragment,{children:[t.jsx(Y,{className:"mt-6 mb-4"}),t.jsx("div",{className:"flex justify-end gap-4",children:t.jsx(I,{size:"sm",className:"w-[70px]",onClick:()=>{o==null||o(s),b(!1)},children:"Save"})})]})]})})]})};h.__docgenInfo={description:"",methods:[],displayName:"DateTimePicker",props:{date:{required:!0,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(date?: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},fromDate:{required:!1,tsType:{name:"Date"},description:""},toDate:{required:!1,tsType:{name:"Date"},description:""},error:{required:!1,tsType:{name:"boolean"},description:""},timeError:{required:!1,tsType:{name:"boolean"},description:""},timeMessage:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},popoverProps:{required:!1,tsType:{name:"ReactComponentProps",raw:"React.ComponentProps<typeof PopoverContent>",elements:[{name:"PopoverContent"}]},description:""},withoutSaveButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};const Ee={title:"Xenith UI/Components/Date Time Picker",component:h,decorators:e=>t.jsx("div",{className:"py-10 w-[300px] h-[400px]  pb-40",children:t.jsx(e,{})}),args:{date:new Date,onChange:e=>console.log(e)},tags:["autodocs"]},x={render:()=>{const[e,r]=a.useState(B(new Date).toISOString());return t.jsx(h,{date:e?new Date(e):void 0,onChange:n=>{r(n==null?void 0:n.toISOString())}})}},g={render:()=>{const[e,r]=a.useState(B(new Date).toISOString());return t.jsx(h,{date:e?new Date(e):void 0,onChange:n=>{r(n==null?void 0:n.toISOString())},withoutSaveButton:!0})}},S={args:{fromDate:new Date}};var T,O,C;x.parameters={...x.parameters,docs:{...(T=x.parameters)==null?void 0:T.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = useState<string | undefined>(startOfDay(new Date()).toISOString());
    return <DateTimePicker date={date ? new Date(date) : undefined} onChange={(date: Date | undefined) => {
      setDate(date?.toISOString());
    }} />;
  }
}`,...(C=(O=x.parameters)==null?void 0:O.docs)==null?void 0:C.source}}};var M,k,q;g.parameters={...g.parameters,docs:{...(M=g.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = useState<string | undefined>(startOfDay(new Date()).toISOString());
    return <DateTimePicker date={date ? new Date(date) : undefined} onChange={(date: Date | undefined) => {
      setDate(date?.toISOString());
    }} withoutSaveButton />;
  }
}`,...(q=(k=g.parameters)==null?void 0:k.docs)==null?void 0:q.source}}};var H,R,_;S.parameters={...S.parameters,docs:{...(H=S.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    fromDate: new Date()
  }
}`,...(_=(R=S.parameters)==null?void 0:R.docs)==null?void 0:_.source}}};const Ue=["Default","WithoutSaveButton","WithFromDate"];export{x as Default,S as WithFromDate,g as WithoutSaveButton,Ue as __namedExportsOrder,Ee as default};
