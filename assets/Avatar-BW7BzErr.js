import{j as d}from"./jsx-runtime-DR9Q75dM.js";import{r as o}from"./index-DRjF_FHU.js";import"./index-CxRLcT2J.js";import{S as k}from"./index-HZDBD2ik.js";import{c as g}from"./cn-8RyR4BqC.js";function F(e,t=[]){let a=[];function r(c,i){const n=o.createContext(i),u=a.length;a=[...a,i];function l(m){const{scope:f,children:v,...p}=m,M=(f==null?void 0:f[e][u])||n,$=o.useMemo(()=>p,Object.values(p));return d.jsx(M.Provider,{value:$,children:v})}function A(m,f){const v=(f==null?void 0:f[e][u])||n,p=o.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${c}\``)}return l.displayName=c+"Provider",[l,A]}const s=()=>{const c=a.map(i=>o.createContext(i));return function(n){const u=(n==null?void 0:n[e])||c;return o.useMemo(()=>({[`__scope${e}`]:{...n,[e]:u}}),[n,u])}};return s.scopeName=e,[r,T(s,...t)]}function T(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const i=r.reduce((n,{useScope:u,scopeName:l})=>{const m=u(c)[`__scope${l}`];return{...n,...m}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}function B(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...a)=>{var r;return(r=t.current)==null?void 0:r.call(t,...a)},[])}var w=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],x=O.reduce((e,t)=>{const a=o.forwardRef((r,s)=>{const{asChild:c,...i}=r,n=c?k:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(n,{...i,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),S="Avatar",[q,Q]=F(S),[D,h]=q(S),_=o.forwardRef((e,t)=>{const{__scopeAvatar:a,...r}=e,[s,c]=o.useState("idle");return d.jsx(D,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:c,children:d.jsx(x.span,{...r,ref:t})})});_.displayName=S;var C="AvatarImage",N=o.forwardRef((e,t)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:s=()=>{},...c}=e,i=h(C,a),n=G(r),u=B(l=>{s(l),i.onImageLoadingStatusChange(l)});return w(()=>{n!=="idle"&&u(n)},[n,u]),n==="loaded"?d.jsx(x.img,{...c,ref:t,src:r}):null});N.displayName=C;var y="AvatarFallback",I=o.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:r,...s}=e,c=h(y,a),[i,n]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>n(!0),r);return()=>window.clearTimeout(u)}},[r]),i&&c.imageLoadingStatus!=="loaded"?d.jsx(x.span,{...s,ref:t}):null});I.displayName=y;function G(e){const[t,a]=o.useState("idle");return w(()=>{if(!e){a("error");return}let r=!0;const s=new window.Image,c=i=>()=>{r&&a(i)};return a("loading"),s.onload=c("loaded"),s.onerror=c("error"),s.src=e,()=>{r=!1}},[e]),t}var L=_,b=N,j=I;const R=o.forwardRef(({className:e,...t},a)=>d.jsx(L,{ref:a,className:g("relative flex h-6 w-6 shrink-0 overflow-hidden rounded-md",e),...t}));R.displayName=L.displayName;const E=o.forwardRef(({className:e,...t},a)=>d.jsx(b,{ref:a,className:g("aspect-square h-full w-full",e),...t}));E.displayName=b.displayName;const P=o.forwardRef(({className:e,...t},a)=>d.jsx(j,{ref:a,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));P.displayName=j.displayName;R.__docgenInfo={description:"",methods:[]};E.__docgenInfo={description:"",methods:[]};P.__docgenInfo={description:"",methods:[]};export{R as A,E as a,P as b};
