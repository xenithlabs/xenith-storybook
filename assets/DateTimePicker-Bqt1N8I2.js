import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{r as o}from"./index-DRjF_FHU.js";import{c as B}from"./cn-8RyR4BqC.js";import{F as Z}from"./calendar-C26CUINT.js";import{F as $}from"./clock-DRhx3Wks.js";import{D as G}from"./Divider-CIm89-oy.js";import{P as J,a as K,b as Q}from"./Popover-A4hNnO1p.js";import{B as R}from"./Button-DAgrt3Vy.js";import{I as P}from"./Icon-CTnhpE1d.js";import{C as W}from"./Calendar-CfLxHAi1.js";import{T as y}from"./Text-C8HBwI4b.js";import{I as M}from"./useClickOutside-_U1PkGnR.js";import{f as X}from"./format-DX5nf6U1.js";const Y=i=>{if(i)return new Date(i)},ee=({date:i,fromDate:m,toDate:c,onChange:p,error:_,timeError:h,onDateChange:D,dateTransformer:a=Y,timeMessage:k,withoutSaveButton:b=!1,popoverProps:A,formatFn:z=X,timezone:E,...L})=>{var C,F,H;const[O,w]=o.useState(!1),[s,U]=o.useState(a(i)?a(i):void 0),d=a(s),u=t=>{const n=Math.min(Math.max(Number(f),0),23),j=Math.min(Math.max(Number(g),0),59),r=Math.min(Math.max(Number(x),0),59);let l=a(t);l&&l.setHours(n,j,r),D&&D(l),b&&p(l),U(l)},[f,v]=o.useState(((C=a(d))==null?void 0:C.getHours().toString())??"00"),[g,S]=o.useState(((F=a(d))==null?void 0:F.getMinutes().toString())??"00"),[x,N]=o.useState(((H=a(d))==null?void 0:H.getSeconds().toString())??"00"),I=t=>{const n=Math.min(Math.max(Number(t),0),23);v(String(n).padStart(2,"0")),u(s)},T=t=>{const n=Math.min(Math.max(Number(t),0),59);S(String(n).padStart(2,"0")),u(s)},q=t=>{const n=Math.min(Math.max(Number(t),0),59);N(String(n).padStart(2,"0")),u(s)},V=o.useMemo(()=>{if(m&&c)return{before:m,after:c};if(m)return{before:m};if(c)return{after:c}},[m,c]);return o.useEffect(()=>{if(!s)return;const t=Math.min(Math.max(Number(f),0),23),n=Math.min(Math.max(Number(g),0),59),j=Math.min(Math.max(Number(x),0),59),r=a(s);r&&(r.setHours(t),r.setMinutes(n),r.setSeconds(j),r.getTime()!==s.getTime()&&(I(r.getHours().toLocaleString("en-US",{minimumIntegerDigits:2})),T(r.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2})),q(r.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2})),u(r)))},[f,g,x]),o.useEffect(()=>{var t;if(((t=a(i))==null?void 0:t.getTime())!==(d==null?void 0:d.getTime())){const n=a(i);u(n),n?(v(n.getHours().toString().padStart(2,"0")),S(n.getMinutes().toString().padStart(2,"0")),N(n.getSeconds().toString().padStart(2,"0"))):(v("00"),S("00"),N("00"))}},[i]),e.jsxs(J,{open:O,onOpenChange:w,children:[e.jsx(K,{asChild:!0,children:e.jsx(R,{variant:"outline",theme:"neutral",className:B("justify-start text-left font-normal items-center",!s&&"text-muted-foreground",{"border-border-critical":_}),icon:e.jsx(P,{icon:e.jsx(Z,{})}),children:a(i)?z(a(i),"dd MMM yyy HH:mm:ss"):e.jsx("div",{className:"text-text-weaker",children:L.placeholder??"Pick a date"})})}),e.jsx(Q,{className:"w-auto p-0",...A,children:e.jsxs("div",{className:"grid p-6",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(W,{timeZone:E,mode:"single",disabled:V,startMonth:m,defaultMonth:s,endMonth:c,selected:s,onSelect:u,className:"p-0 pt-1  border-0 shadow-none"}),e.jsxs("div",{className:"grid gap-[6px]",children:[e.jsx(y,{variant:"medium",children:"Time"}),e.jsxs("div",{className:"flex gap-2 shadow-input rounded-md border items-center px-3",children:[e.jsx("div",{children:e.jsx(P,{icon:e.jsx($,{}),size:"lg",className:"relative top-[2px]"})}),e.jsxs("div",{className:"flex justify-center w-full",children:[e.jsx("div",{className:"flex flex-col items-center gap-1",children:e.jsx(M,{type:"number",value:f.padStart(2,"0"),onChange:t=>I(t.target.value),min:0,onFocus:t=>t.target.select(),max:23,containerClassName:" border-0 shadow-none",className:"text-center appearance-none",placeholder:"00",error:h})}),e.jsx(y,{className:"flex items-center h-10",children:":"}),e.jsx("div",{className:"flex flex-col items-center gap-1",children:e.jsx(M,{type:"number",value:g.padStart(2,"0"),onChange:t=>T(t.target.value),onFocus:t=>t.target.select(),min:0,max:59,containerClassName:" border-0 shadow-none",className:"text-center appearance-none",placeholder:"00",error:h})}),e.jsx(y,{className:"flex items-center h-10",children:":"}),e.jsx("div",{className:"flex flex-col items-center gap-1",children:e.jsx(M,{type:"number",value:x.padStart(2,"0"),onChange:t=>q(t.target.value),min:0,onFocus:t=>t.target.select(),max:59,containerClassName:" border-0 shadow-none",className:"text-center appearance-none",placeholder:"00",error:h})})]})]}),k]})]}),!b&&e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"mt-6 mb-4"}),e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx(R,{size:"sm",className:"w-[70px]",onClick:()=>{p==null||p(s),w(!1)},children:"Save"})})]})]})})]})};ee.__docgenInfo={description:"",methods:[],displayName:"DateTimePicker",props:{timezone:{required:!1,tsType:{name:"string"},description:""},date:{required:!0,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(date?: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},dateTransformer:{required:!1,tsType:{name:"signature",type:"function",raw:"(date?: Date) => Date | undefined",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]}}},description:"",defaultValue:{value:`(date?: Date | undefined) => {
  if (!date) {
    return undefined;
  }

  return new Date(date);
}`,computed:!1}},formatFn:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: DateArg<Date> | string, format: string) => string",signature:{arguments:[{type:{name:"union",raw:"DateArg<Date> | string",elements:[{name:"DateArg",elements:[{name:"Date"}],raw:"DateArg<Date>"},{name:"string"}]},name:"date"},{type:{name:"string"},name:"format"}],return:{name:"string"}}},description:"",defaultValue:{value:"format",computed:!0}},fromDate:{required:!1,tsType:{name:"Date"},description:""},toDate:{required:!1,tsType:{name:"Date"},description:""},error:{required:!1,tsType:{name:"boolean"},description:""},onDateChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date?: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:"Sometime you want to listen to the internal date change. use this props"},timeError:{required:!1,tsType:{name:"boolean"},description:""},timeMessage:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},popoverProps:{required:!1,tsType:{name:"ReactComponentProps",raw:"React.ComponentProps<typeof PopoverContent>",elements:[{name:"PopoverContent"}]},description:""},withoutSaveButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{ee as D};
