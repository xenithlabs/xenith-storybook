import{j as o}from"./jsx-runtime-DR9Q75dM.js";import{r as n}from"./index-DRjF_FHU.js";import{c as C}from"./cn-8RyR4BqC.js";import{I as K}from"./useClickOutside-NjOEmSQi.js";import{h as U}from"./Heading-DjlBwQyS.js";import"./styles-x1yxmyQd.js";import"./index-Bb4qSo10.js";import"./stringCase-DaZl3p-i.js";import"./close-D2djoYoT.js";import"./search-BbudfyUD.js";import"./mini-FlV67GHA.js";import"./index-DuXoWBk8.js";import"./index-CxRLcT2J.js";import"./floating-ui.dom-BuxmzwbT.js";import"./check-C0C6JGvp.js";import"./spinner-ojW7ALd7.js";import"./chevron-down-CyV3wpL8.js";import"./clock-DRhx3Wks.js";import"./Button-DAgrt3Vy.js";import"./index-HZDBD2ik.js";import"./Icon-CTnhpE1d.js";import"./index-CAHntWCK.js";import"./Checkbox-CMdwPcui.js";import"./index-Bu1UD4WD.js";import"./index-KY2xTor3.js";import"./index-BhXpUKZt.js";import"./Text-C8HBwI4b.js";const b=({onComplete:i,errorMessage:c,onClear:N,className:P,disabled:m})=>{const V=C("w-[48px] h-[48px] flex items-center justify-center",{"bg-bg-weaker":m}),[t,L]=n.useState(["","","","","",""]),p=l=>{m||L(l)},a=[n.useRef(null),n.useRef(null),n.useRef(null),n.useRef(null),n.useRef(null),n.useRef(null)],M=" ",w=typeof c=="string"&&c.length>0;return n.useEffect(()=>{var l;a[0]&&((l=a[0].current)==null||l.focus())},[]),n.useEffect(()=>{t.every(l=>l==="")&&N&&N()},[t]),o.jsxs("div",{className:C("grid gap-2 min-w-[400px]",P),children:[o.jsx("div",{className:"flex justify-between",children:t.map((l,e)=>o.jsx(K,{value:l,ref:a[e],onKeyDown:r=>{var f;if(m){r.stopPropagation(),r.preventDefault();return}t[e]===""&&r.code.toLowerCase()==="backspace"&&e!==0&&((f=a[e-1].current)==null||f.focus(),p(t.map((g,d)=>d===e?"":g))),t[e]!==""&&r.code.toLowerCase()==="enter"&&e===t.length-1&&i(t.join(""))},onChange:r=>{var R,g,d,I,D;if(r.target.value.length&&!/^[0-9]+$/gim.test(r.target.value))return;if(r.target.value.length>1){if(e!==t.length-1){const s=r.target.value[r.target.value.length-1],u=t.map((j,W)=>W===e+1?s:j);p(u),(R=a[e+1].current)==null||R.focus(),t.filter(j=>j!=="").length===t.length-1&&i(u.join(""))}return}const f=t.filter(s=>s!=="").length;if(r.target.value.length&&f===t.length-1){const s=t.map((u,h)=>h===e?r.target.value:u);i(s.join("")),p(s);return}if(r.target.value.length>1&&e!==t.length-1){const s=r.target.value[r.target.value.length-1];p(t.map((h,E)=>E===e+1?s:h)),(g=a[e+1].current)==null||g.focus();return}if(r.target.value.length===1&&e!==t.length-1&&((d=a[e+1].current)==null||d.focus()),r.target.value.length<1&&e!==0&&((I=a[e-1].current)==null||I.focus()),t[e].length&&r.target.value.length&&e!==t.length-1){(D=a[e+1].current)==null||D.focus();return}p(t.map((s,u)=>e===u?r.target.value:s))},error:w,containerClassName:V,className:C("text-center",U({variant:"titleMd"}),{"bg-bg-weaker":m}),placeholder:M},e))}),w&&o.jsx("div",{children:o.jsx("div",{className:"text-text-critical",children:c})})]})};b.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{onComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: string) => void",signature:{arguments:[{type:{name:"string"},name:"values"}],return:{name:"void"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const ge={title:"Xenith UI/Components/OtpInput",parameters:{layout:"centered",docs:{subtitle:"Displays a form input field or a component that looks like an input field."}},tags:["autodocs"]},v={render:()=>o.jsx("div",{className:"grid gap-1",children:o.jsx(b,{onComplete:i=>console.log("yey complete",i)})})},y={render:()=>{const[i,c]=n.useState(!1);return o.jsx("div",{className:"grid gap-1",children:o.jsx(b,{onComplete:()=>{c(!0),console.log("yey complete")},disabled:i,errorMessage:"OTP you have entered is incorrect"})})}};var O,T,S;v.parameters={...v.parameters,docs:{...(O=v.parameters)==null?void 0:O.docs,source:{originalSource:`{
  render: () => <div className="grid gap-1">
      <OtpInput onComplete={v => console.log("yey complete", v)} />
    </div>
}`,...(S=(T=v.parameters)==null?void 0:T.docs)==null?void 0:S.source}}};var k,q,_;y.parameters={...y.parameters,docs:{...(k=y.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => {
    const [disabled, setDisabled] = useState(false);
    return <div className="grid gap-1">
        <OtpInput onComplete={() => {
        setDisabled(true);
        console.log("yey complete");
      }} disabled={disabled} errorMessage="OTP you have entered is incorrect" />
      </div>;
  }
}`,...(_=(q=y.parameters)==null?void 0:q.docs)==null?void 0:_.source}}};const de=["Default","WithError"];export{v as Default,y as WithError,de as __namedExportsOrder,ge as default};
