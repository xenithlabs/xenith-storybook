import{j as n}from"./jsx-runtime-DWbWqHZ-.js";import{r as a}from"./index-l2PZgWEW.js";import{c as C}from"./cn-C-5SdYIA.js";import{I as W}from"./useClickOutside-BONPJQHy.js";import{h as K}from"./Heading-B_Jl69qA.js";import"./styles-BNEhTmYy.js";import"./index-Bb4qSo10.js";import"./search-BceqokmR.js";import"./close-Bwe4q-Z3.js";import"./stringCase-DaZl3p-i.js";import"./spinner-D3uK0xOl.js";import"./chevron-down-jNWesQvo.js";import"./check-4u3gJW-P.js";import"./index-BgmTQNcy.js";import"./index-CaNG7YX3.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-fvTbNGom.js";import"./floating-ui.dom-BuxmzwbT.js";import"./Button-C--AkFFB.js";import"./index-Cm6j2cFO.js";import"./styles-DsUnyYA6.js";import"./Icon-ev__gahW.js";import"./index-DjcUcJmE.js";import"./Checkbox-CCHalYd3.js";import"./index-CZsjDy6p.js";import"./index-BmdjtsoG.js";import"./index-DZOIkxWA.js";const b=({onComplete:o,errorMessage:u,className:q,disabled:p})=>{const P=C("w-[48px] h-[48px] flex items-center justify-center",{"bg-bg-weaker":p}),[t,V]=a.useState(["","","","","",""]),i=y=>{p||V(y)},l=[a.useRef(null),a.useRef(null),a.useRef(null),a.useRef(null),a.useRef(null),a.useRef(null)],L=" ",N=typeof u=="string"&&u.length>0;return n.jsxs("div",{className:C("grid gap-2 min-w-[400px]",q),children:[n.jsx("div",{className:"flex justify-between",children:t.map((y,e)=>n.jsx(W,{value:y,ref:l[e],onKeyDown:r=>{var m;if(p){r.stopPropagation(),r.preventDefault();return}t[e]===""&&r.code.toLowerCase()==="backspace"&&e!==0&&((m=l[e-1].current)==null||m.focus(),i(t.map((f,g)=>g===e?"":f))),t[e]!==""&&r.code.toLowerCase()==="enter"&&e===t.length-1&&o(t.join(""))},onChange:r=>{var R,f,g,w,I;if(r.target.value.length&&!/^[0-9]+$/gim.test(r.target.value))return;if(r.target.value.length>1){if(e!==t.length-1){const s=r.target.value[r.target.value.length-1],c=t.map((j,M)=>M===e+1?s:j);i(c),(R=l[e+1].current)==null||R.focus(),t.filter(j=>j!=="").length===t.length-1&&o(c.join(""))}return}const m=t.filter(s=>s!=="").length;if(r.target.value.length&&m===t.length-1){const s=t.map((c,d)=>d===e?r.target.value:c);o(s.join("")),i(s);return}if(r.target.value.length>1&&e!==t.length-1){const s=r.target.value[r.target.value.length-1];i(t.map((d,D)=>D===e+1?s:d)),(f=l[e+1].current)==null||f.focus();return}if(r.target.value.length===1&&e!==t.length-1&&((g=l[e+1].current)==null||g.focus()),r.target.value.length<1&&e!==0&&((w=l[e-1].current)==null||w.focus()),t[e].length&&r.target.value.length&&e!==t.length-1){(I=l[e+1].current)==null||I.focus();return}i(t.map((s,c)=>e===c?r.target.value:s))},error:N,containerClassName:P,className:C("text-center",K({variant:"titleMd"}),{"bg-bg-weaker":p}),placeholder:L},e))}),N&&n.jsx("div",{children:n.jsx("p",{className:"text-text-critical",children:u})})]})};b.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{onComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: string) => void",signature:{arguments:[{type:{name:"string"},name:"values"}],return:{name:"void"}}},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const me={title:"Xenith UI/Components/OtpInput",parameters:{layout:"centered",docs:{subtitle:"Displays a form input field or a component that looks like an input field."}},tags:["autodocs"]},h={render:()=>n.jsx("div",{className:"grid gap-1",children:n.jsx(b,{onComplete:o=>console.log("yey complete",o)})})},v={render:()=>{const[o,u]=a.useState(!1);return n.jsx("div",{className:"grid gap-1",children:n.jsx(b,{onComplete:()=>{u(!0),console.log("yey complete")},disabled:o,errorMessage:"OTP you have entered is incorrect"})})}};var O,E,S;h.parameters={...h.parameters,docs:{...(O=h.parameters)==null?void 0:O.docs,source:{originalSource:`{
  render: () => <div className="grid gap-1">
      <OtpInput onComplete={v => console.log("yey complete", v)} />
    </div>
}`,...(S=(E=h.parameters)==null?void 0:E.docs)==null?void 0:S.source}}};var T,k,_;v.parameters={...v.parameters,docs:{...(T=v.parameters)==null?void 0:T.docs,source:{originalSource:`{
  render: () => {
    const [disabled, setDisabled] = useState(false);
    return <div className="grid gap-1">
        <OtpInput onComplete={() => {
        setDisabled(true);
        console.log("yey complete");
      }} disabled={disabled} errorMessage="OTP you have entered is incorrect" />
      </div>;
  }
}`,...(_=(k=v.parameters)==null?void 0:k.docs)==null?void 0:_.source}}};const fe=["Default","WithError"];export{h as Default,v as WithError,fe as __namedExportsOrder,me as default};
