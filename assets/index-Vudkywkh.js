import{_ as d,c as L,d as V,e as G,a as E,b as p,f as u,g as W}from"./index-BgmTQNcy.js";import{r as e}from"./index-l2PZgWEW.js";import{$ as m}from"./index-DPMSfDr2.js";import{$ as H,a as Z}from"./index-C76mvIvD.js";import{R as z,h as B,$ as K,a as U}from"./index-Bel6ALHY.js";import{$ as x}from"./index-DZOIkxWA.js";const C=e.forwardRef((t,a)=>{const{children:c,...n}=t,r=e.Children.toArray(c),o=r.find(q);if(o){const s=o.props.children,l=r.map(f=>f===o?e.Children.count(s)>1?e.Children.only(null):e.isValidElement(s)?s.props.children:null:f);return e.createElement(D,d({},n,{ref:a}),e.isValidElement(s)?e.cloneElement(s,void 0,l):null)}return e.createElement(D,d({},n,{ref:a}),c)});C.displayName="Slot";const D=e.forwardRef((t,a)=>{const{children:c,...n}=t;return e.isValidElement(c)?e.cloneElement(c,{...J(n,c.props),ref:a?L(a,c.ref):c.ref}):e.Children.count(c)>1?e.Children.only(null):null});D.displayName="SlotClone";const Y=({children:t})=>e.createElement(e.Fragment,null,t);function q(t){return e.isValidElement(t)&&t.type===Y}function J(t,a){const c={...a};for(const n in a){const r=t[n],o=a[n];/^on[A-Z]/.test(n)?r&&o?c[n]=(...l)=>{o(...l),r(...l)}:r&&(c[n]=r):n==="style"?c[n]={...r,...o}:n==="className"&&(c[n]=[r,o].filter(Boolean).join(" "))}return{...t,...c}}const R="Dialog",[O,Q]=V(R),[X,i]=O(R),h=t=>{const{__scopeDialog:a,children:c,open:n,defaultOpen:r,onOpenChange:o,modal:s=!0}=t,l=e.useRef(null),f=e.useRef(null),[g=!1,b]=G({prop:n,defaultProp:r,onChange:o});return e.createElement(X,{scope:a,triggerRef:l,contentRef:f,contentId:m(),titleId:m(),descriptionId:m(),open:g,onOpenChange:b,onOpenToggle:e.useCallback(()=>b(j=>!j),[b]),modal:s},c)},ee="DialogTrigger",P=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(ee,c),o=E(a,r.triggerRef);return e.createElement(p.button,d({type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":v(r.open)},n,{ref:o,onClick:u(t.onClick,r.onOpenToggle)}))}),y="DialogPortal",[te,A]=O(y,{forceMount:void 0}),N=t=>{const{__scopeDialog:a,forceMount:c,children:n,container:r}=t,o=i(y,a);return e.createElement(te,{scope:a,forceMount:c},e.Children.map(n,s=>e.createElement(x,{present:c||o.open},e.createElement(H,{asChild:!0,container:r},s))))},_="DialogOverlay",I=e.forwardRef((t,a)=>{const c=A(_,t.__scopeDialog),{forceMount:n=c.forceMount,...r}=t,o=i(_,t.__scopeDialog);return o.modal?e.createElement(x,{present:n||o.open},e.createElement(oe,d({},r,{ref:a}))):null}),oe=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(_,c);return e.createElement(z,{as:C,allowPinchZoom:!0,shards:[r.contentRef]},e.createElement(p.div,d({"data-state":v(r.open)},n,{ref:a,style:{pointerEvents:"auto",...n.style}})))}),$="DialogContent",M=e.forwardRef((t,a)=>{const c=A($,t.__scopeDialog),{forceMount:n=c.forceMount,...r}=t,o=i($,t.__scopeDialog);return e.createElement(x,{present:n||o.open},o.modal?e.createElement(ce,d({},r,{ref:a})):e.createElement(ne,d({},r,{ref:a})))}),ce=e.forwardRef((t,a)=>{const c=i($,t.__scopeDialog),n=e.useRef(null),r=E(a,c.contentRef,n);return e.useEffect(()=>{const o=n.current;if(o)return B(o)},[]),e.createElement(T,d({},t,{ref:r,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:u(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=c.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:u(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&o.preventDefault()}),onFocusOutside:u(t.onFocusOutside,o=>o.preventDefault())}))}),ne=e.forwardRef((t,a)=>{const c=i($,t.__scopeDialog),n=e.useRef(!1),r=e.useRef(!1);return e.createElement(T,d({},t,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var l;n.current||(l=c.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}n.current=!1,r.current=!1},onInteractOutside:o=>{var s,l;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const f=o.target;((l=c.triggerRef.current)===null||l===void 0?void 0:l.contains(f))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}}))}),T=e.forwardRef((t,a)=>{const{__scopeDialog:c,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o,...s}=t,l=i($,c),f=e.useRef(null),g=E(a,f);return K(),e.createElement(e.Fragment,null,e.createElement(U,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o},e.createElement(Z,d({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":v(l.open)},s,{ref:g,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),F="DialogTitle",w=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(F,c);return e.createElement(p.h2,d({id:r.titleId},n,{ref:a}))}),re="DialogDescription",S=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(re,c);return e.createElement(p.p,d({id:r.descriptionId},n,{ref:a}))}),ae="DialogClose",k=e.forwardRef((t,a)=>{const{__scopeDialog:c,...n}=t,r=i(ae,c);return e.createElement(p.button,d({type:"button"},n,{ref:a,onClick:u(t.onClick,()=>r.onOpenChange(!1))}))});function v(t){return t?"open":"closed"}const se="DialogTitleWarning",[le,Ce]=W(se,{contentName:$,titleName:F,docsSlug:"dialog"}),de=h,ie=P,fe=N,$e=I,ue=M,pe=w,ge=S,be=k,Re=Object.freeze(Object.defineProperty({__proto__:null,Close:be,Content:ue,Description:ge,Dialog:h,DialogClose:k,DialogContent:M,DialogDescription:S,DialogOverlay:I,DialogPortal:N,DialogTitle:w,DialogTrigger:P,Overlay:$e,Portal:fe,Root:de,Title:pe,Trigger:ie,WarningProvider:le,createDialogScope:Q},Symbol.toStringTag,{value:"Module"}));export{de as $,Re as D,ie as a,be as b,$e as c,ue as d,pe as e,ge as f,fe as g,Q as h,le as i};
