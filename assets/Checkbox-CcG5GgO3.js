import{j as p,c as E}from"./cn-BTg03kWI.js";import{r as t}from"./index-l2PZgWEW.js";import{a as S,_ as C}from"./index-q8uFWT42.js";import{a as B,b as D,$ as y,c as w}from"./index-CeZp-NtI.js";import{$ as M}from"./index-CZsjDy6p.js";import{$ as q}from"./index-Vu1Slila.js";import{$ as O}from"./index-DeznNegx.js";import{I as A}from"./Icon-DG9iq8fw.js";import{F}from"./check-4u3gJW-P.js";const _="Checkbox",[K,oe]=B(_),[L,H]=K(_),T=t.forwardRef((e,i)=>{const{__scopeCheckbox:r,name:c,checked:f,defaultChecked:o,required:b,disabled:s,value:d="on",onCheckedChange:h,...v}=e,[a,m]=t.useState(null),I=S(i,n=>m(n)),x=t.useRef(!1),g=a?!!a.closest("form"):!0,[l=!1,k]=D({prop:f,defaultProp:o,onChange:h}),N=t.useRef(l);return t.useEffect(()=>{const n=a==null?void 0:a.form;if(n){const $=()=>k(N.current);return n.addEventListener("reset",$),()=>n.removeEventListener("reset",$)}},[a,k]),t.createElement(L,{scope:r,state:l,disabled:s},t.createElement(y.button,C({type:"button",role:"checkbox","aria-checked":u(l)?"mixed":l,"aria-required":b,"data-state":R(l),"data-disabled":s?"":void 0,disabled:s,value:d},v,{ref:I,onKeyDown:w(e.onKeyDown,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:w(e.onClick,n=>{k($=>u($)?!0:!$),g&&(x.current=n.isPropagationStopped(),x.current||n.stopPropagation())})})),g&&t.createElement(G,{control:a,bubbles:!x.current,name:c,value:d,checked:l,required:b,disabled:s,style:{transform:"translateX(-100%)"}}))}),X="CheckboxIndicator",z=t.forwardRef((e,i)=>{const{__scopeCheckbox:r,forceMount:c,...f}=e,o=H(X,r);return t.createElement(O,{present:c||u(o.state)||o.state===!0},t.createElement(y.span,C({"data-state":R(o.state),"data-disabled":o.disabled?"":void 0},f,{ref:i,style:{pointerEvents:"none",...e.style}})))}),G=e=>{const{control:i,checked:r,bubbles:c=!0,...f}=e,o=t.useRef(null),b=M(r),s=q(i);return t.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(h,"checked").set;if(b!==r&&a){const m=new Event("click",{bubbles:c});d.indeterminate=u(r),a.call(d,u(r)?!1:r),d.dispatchEvent(m)}},[b,r,c]),t.createElement("input",C({type:"checkbox","aria-hidden":!0,defaultChecked:u(r)?!1:r},f,{tabIndex:-1,ref:o,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function u(e){return e==="indeterminate"}function R(e){return u(e)?"indeterminate":e?"checked":"unchecked"}const P=T,J=z,j=t.forwardRef(({className:e,indeterminate:i,checked:r,...c},f)=>{const[o,b]=t.useState(!!r);return p.jsx(P,{ref:f,className:E("peer h-4 w-4 shrink-0 rounded-[4px] border border-border-strong hover:border-border-stronger ring-offset-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:border-border-default disabled:text-text-weaker disabled:bg-bg-weaker data-[state=checked]:bg-accent data-[state=indeterminate]:bg-accent data-[state=checked]:text-white data-[state=checked]:border-accent",e),...c,checked:o,onCheckedChange:s=>{c.onCheckedChange&&c.onCheckedChange(s),b(d=>i?d==="indeterminate"?!0:d===!0?!1:"indeterminate":s)},children:p.jsxs(J,{className:E("flex items-center justify-center text-current"),children:[o==="indeterminate"&&p.jsx("div",{className:"w-[7px]  border  border-white"}),o===!0&&p.jsx(A,{icon:p.jsx(F,{})})]})})});j.displayName=P.displayName;j.__docgenInfo={description:"",methods:[]};export{j as C};
