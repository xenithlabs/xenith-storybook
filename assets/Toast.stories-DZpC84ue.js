import{j as n}from"./jsx-runtime-DR9Q75dM.js";import{I as q}from"./Icon-CTnhpE1d.js";import{F as qe}from"./close-circle-BoBsQXa4.js";import{F as Ge}from"./info-Cre7IJy9.js";import{F as Je}from"./check-circle-DNKzEdhW.js";import{r as t}from"./index-DRjF_FHU.js";import{d as Qe,a as Re,b as D,_,f as Ze,h as G,e as y,i as et,$ as tt}from"./index-DuXoWBk8.js";import{r as rt}from"./index-CxRLcT2J.js";import{$ as ot}from"./index-CYnergnF.js";import{b as st,c as nt,a as at}from"./index-DdILnG7L.js";import{$ as ct}from"./index-BhXpUKZt.js";import{a as Fe}from"./index-BXQDTo2X.js";import{c as it}from"./index-Bb4qSo10.js";import{c as A}from"./cn-8RyR4BqC.js";import{F as dt}from"./close-D2djoYoT.js";import{t as ne}from"./styles-x1yxmyQd.js";import{u as Ne}from"./useToast-ChPQLukk.js";import{B as ut}from"./Button-CHcYOyT5.js";import"./index-HZDBD2ik.js";import"./spinner-ojW7ALd7.js";import"./chevron-down-CyV3wpL8.js";const Ie="ToastProvider",[ae,lt,pt]=ot("Toast"),[De,sr]=Qe("Toast",[pt]),[ft,J]=De(Ie),Ae=e=>{const{__scopeToast:r,label:o="Notification",duration:s=5e3,swipeDirection:d="right",swipeThreshold:u=50,children:l}=e,[m,b]=t.useState(null),[c,E]=t.useState(0),T=t.useRef(!1),O=t.useRef(!1);return t.createElement(ae.Provider,{scope:r},t.createElement(ft,{scope:r,label:o,duration:s,swipeDirection:d,swipeThreshold:u,toastCount:c,viewport:m,onViewportChange:b,onToastAdd:t.useCallback(()=>E(P=>P+1),[]),onToastRemove:t.useCallback(()=>E(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:O},l))};Ae.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const r=`Invalid prop \`label\` supplied to \`${Ie}\`. Expected non-empty \`string\`.`;return new Error(r)}return null}};const mt="ToastViewport",bt=["F8"],oe="toast.viewportPause",se="toast.viewportResume",vt=t.forwardRef((e,r)=>{const{__scopeToast:o,hotkey:s=bt,label:d="Notifications ({hotkey})",...u}=e,l=J(mt,o),m=lt(o),b=t.useRef(null),c=t.useRef(null),E=t.useRef(null),T=t.useRef(null),O=Re(r,T,l.onViewportChange),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=l.toastCount>0;t.useEffect(()=>{const i=g=>{var f;s.every($=>g[$]||g.code===$)&&((f=T.current)===null||f===void 0||f.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[s]),t.useEffect(()=>{const i=b.current,g=T.current;if(R&&i&&g){const f=()=>{if(!l.isClosePausedRef.current){const x=new CustomEvent(oe);g.dispatchEvent(x),l.isClosePausedRef.current=!0}},v=()=>{if(l.isClosePausedRef.current){const x=new CustomEvent(se);g.dispatchEvent(x),l.isClosePausedRef.current=!1}},$=x=>{!i.contains(x.relatedTarget)&&v()},w=()=>{i.contains(document.activeElement)||v()};return i.addEventListener("focusin",f),i.addEventListener("focusout",$),i.addEventListener("pointermove",f),i.addEventListener("pointerleave",w),window.addEventListener("blur",f),window.addEventListener("focus",v),()=>{i.removeEventListener("focusin",f),i.removeEventListener("focusout",$),i.removeEventListener("pointermove",f),i.removeEventListener("pointerleave",w),window.removeEventListener("blur",f),window.removeEventListener("focus",v)}}},[R,l.isClosePausedRef]);const p=t.useCallback(({tabbingDirection:i})=>{const f=m().map(v=>{const $=v.ref.current,w=[$,...It($)];return i==="forwards"?w:w.reverse()});return(i==="forwards"?f.reverse():f).flat()},[m]);return t.useEffect(()=>{const i=T.current;if(i){const g=f=>{const v=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!v){const k=document.activeElement,N=f.shiftKey;if(f.target===i&&N){var w;(w=c.current)===null||w===void 0||w.focus();return}const F=p({tabbingDirection:N?"backwards":"forwards"}),V=F.findIndex(a=>a===k);if(re(F.slice(V+1)))f.preventDefault();else{var x,C;N?(x=c.current)===null||x===void 0||x.focus():(C=E.current)===null||C===void 0||C.focus()}}};return i.addEventListener("keydown",g),()=>i.removeEventListener("keydown",g)}},[m,p]),t.createElement(st,{ref:b,role:"region","aria-label":d.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:R?void 0:"none"}},R&&t.createElement(pe,{ref:c,onFocusFromOutsideViewport:()=>{const i=p({tabbingDirection:"forwards"});re(i)}}),t.createElement(ae.Slot,{scope:o},t.createElement(D.ol,_({tabIndex:-1},u,{ref:O}))),R&&t.createElement(pe,{ref:E,onFocusFromOutsideViewport:()=>{const i=p({tabbingDirection:"backwards"});re(i)}}))}),$t="ToastFocusProxy",pe=t.forwardRef((e,r)=>{const{__scopeToast:o,onFocusFromOutsideViewport:s,...d}=e,u=J($t,o);return t.createElement(Fe,_({"aria-hidden":!0,tabIndex:0},d,{ref:r,style:{position:"fixed"},onFocus:l=>{var m;const b=l.relatedTarget;!((m=u.viewport)!==null&&m!==void 0&&m.contains(b))&&s()}}))}),Q="Toast",wt="toast.swipeStart",xt="toast.swipeMove",Tt="toast.swipeCancel",gt="toast.swipeEnd",Et=t.forwardRef((e,r)=>{const{forceMount:o,open:s,defaultOpen:d,onOpenChange:u,...l}=e,[m=!0,b]=Ze({prop:s,defaultProp:d,onChange:u});return t.createElement(ct,{present:o||m},t.createElement(je,_({open:m},l,{ref:r,onClose:()=>b(!1),onPause:G(e.onPause),onResume:G(e.onResume),onSwipeStart:y(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:y(e.onSwipeMove,c=>{const{x:E,y:T}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${E}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${T}px`)}),onSwipeCancel:y(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:y(e.onSwipeEnd,c=>{const{x:E,y:T}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${E}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${T}px`),b(!1)})})))}),[ht,yt]=De(Q,{onClose(){}}),je=t.forwardRef((e,r)=>{const{__scopeToast:o,type:s="foreground",duration:d,open:u,onClose:l,onEscapeKeyDown:m,onPause:b,onResume:c,onSwipeStart:E,onSwipeMove:T,onSwipeCancel:O,onSwipeEnd:P,...R}=e,p=J(Q,o),[i,g]=t.useState(null),f=Re(r,a=>g(a)),v=t.useRef(null),$=t.useRef(null),w=d||p.duration,x=t.useRef(0),C=t.useRef(w),k=t.useRef(0),{onToastAdd:N,onToastRemove:ee}=p,I=G(()=>{var a;(i==null?void 0:i.contains(document.activeElement))&&((a=p.viewport)===null||a===void 0||a.focus()),l()}),F=t.useCallback(a=>{!a||a===1/0||(window.clearTimeout(k.current),x.current=new Date().getTime(),k.current=window.setTimeout(I,a))},[I]);t.useEffect(()=>{const a=p.viewport;if(a){const h=()=>{F(C.current),c==null||c()},S=()=>{const L=new Date().getTime()-x.current;C.current=C.current-L,window.clearTimeout(k.current),b==null||b()};return a.addEventListener(oe,S),a.addEventListener(se,h),()=>{a.removeEventListener(oe,S),a.removeEventListener(se,h)}}},[p.viewport,w,b,c,F]),t.useEffect(()=>{u&&!p.isClosePausedRef.current&&F(w)},[u,w,p.isClosePausedRef,F]),t.useEffect(()=>(N(),()=>ee()),[N,ee]);const V=t.useMemo(()=>i?Me(i):null,[i]);return p.viewport?t.createElement(t.Fragment,null,V&&t.createElement(_t,{__scopeToast:o,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0},V),t.createElement(ht,{scope:o,onClose:I},rt.createPortal(t.createElement(ae.ItemSlot,{scope:o},t.createElement(nt,{asChild:!0,onEscapeKeyDown:y(m,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1})},t.createElement(D.li,_({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":p.swipeDirection},R,{ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:y(e.onKeyDown,a=>{a.key==="Escape"&&(m==null||m(a.nativeEvent),a.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:y(e.onPointerDown,a=>{a.button===0&&(v.current={x:a.clientX,y:a.clientY})}),onPointerMove:y(e.onPointerMove,a=>{if(!v.current)return;const h=a.clientX-v.current.x,S=a.clientY-v.current.y,L=!!$.current,M=["left","right"].includes(p.swipeDirection),K=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Ye=M?K(0,h):0,ze=M?0:K(0,S),te=a.pointerType==="touch"?10:2,W={x:Ye,y:ze},le={originalEvent:a,delta:W};L?($.current=W,H(xt,T,le,{discrete:!1})):fe(W,p.swipeDirection,te)?($.current=W,H(wt,E,le,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(h)>te||Math.abs(S)>te)&&(v.current=null)}),onPointerUp:y(e.onPointerUp,a=>{const h=$.current,S=a.target;if(S.hasPointerCapture(a.pointerId)&&S.releasePointerCapture(a.pointerId),$.current=null,v.current=null,h){const L=a.currentTarget,M={originalEvent:a,delta:h};fe(h,p.swipeDirection,p.swipeThreshold)?H(gt,P,M,{discrete:!0}):H(Tt,O,M,{discrete:!0}),L.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})))),p.viewport))):null});je.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const r=`Invalid prop \`type\` supplied to \`${Q}\`. Expected \`foreground | background\`.`;return new Error(r)}return null}};const _t=e=>{const{__scopeToast:r,children:o,...s}=e,d=J(Q,r),[u,l]=t.useState(!1),[m,b]=t.useState(!1);return Ft(()=>l(!0)),t.useEffect(()=>{const c=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(c)},[]),m?null:t.createElement(at,{asChild:!0},t.createElement(Fe,s,u&&t.createElement(t.Fragment,null,d.label," ",o)))},Ct=t.forwardRef((e,r)=>{const{__scopeToast:o,...s}=e;return t.createElement(D.div,_({},s,{ref:r}))}),St=t.forwardRef((e,r)=>{const{__scopeToast:o,...s}=e;return t.createElement(D.div,_({},s,{ref:r}))}),Pt="ToastAction",Oe=t.forwardRef((e,r)=>{const{altText:o,...s}=e;return o?t.createElement(Le,{altText:o,asChild:!0},t.createElement(ke,_({},s,{ref:r}))):null});Oe.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${Pt}\``)}};const Rt="ToastClose",ke=t.forwardRef((e,r)=>{const{__scopeToast:o,...s}=e,d=yt(Rt,o);return t.createElement(Le,{asChild:!0},t.createElement(D.button,_({type:"button"},s,{ref:r,onClick:y(e.onClick,d.onClose)})))}),Le=t.forwardRef((e,r)=>{const{__scopeToast:o,altText:s,...d}=e;return t.createElement(D.div,_({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0},d,{ref:r}))});function Me(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),Nt(s)){const d=s.ariaHidden||s.hidden||s.style.display==="none",u=s.dataset.radixToastAnnounceExclude==="";if(!d)if(u){const l=s.dataset.radixToastAnnounceAlt;l&&r.push(l)}else r.push(...Me(s))}}),r}function H(e,r,o,{discrete:s}){const d=o.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});r&&d.addEventListener(e,r,{once:!0}),s?et(d,u):d.dispatchEvent(u)}const fe=(e,r,o=0)=>{const s=Math.abs(e.x),d=Math.abs(e.y),u=s>d;return r==="left"||r==="right"?u&&s>o:!u&&d>o};function Ft(e=()=>{}){const r=G(e);tt(()=>{let o=0,s=0;return o=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(s)}},[r])}function Nt(e){return e.nodeType===e.ELEMENT_NODE}function It(e){const r=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const d=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||d?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)r.push(o.currentNode);return r}function re(e){const r=document.activeElement;return e.some(o=>o===r?!0:(o.focus(),document.activeElement!==r))}const Dt=Ae,Ve=vt,Ke=Et,We=Ct,He=St,Ue=Oe,Xe=ke,At=Dt,ce=t.forwardRef(({className:e,...r},o)=>n.jsx(Ve,{ref:o,className:A("fixed top-0 z-[100] flex max-h-screen w-fit flex-col-reverse p-4  sm:right-0  sm:flex-col md:max-w-[420px]",e),...r}));ce.displayName=Ve.displayName;const jt=it("group pointer-events-auto relative flex w-full items-center justify-between  overflow-hidden rounded-md    transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-top-full",{variants:{variant:{soft:"",outline:"border bg-transparent",surface:"border"},theme:{neutral:" bg-bg-weaker text-text-default shadow-modal",accent:" border-border-border-accent text-text-accent bg-accent-weak",destructive:"critical group border-border-critical bg-critical-weak text-text-critical",success:"success group border-border-success bg-bg-success-weak text-text-success",warning:"warning group border-border-warning bg-bg-warning-weak text-text-warning"},size:{sm:"p-3",md:"p-4",lg:"p-6"}},compoundVariants:[{variant:"outline",theme:"neutral",className:"bg-transparent"},{variant:"outline",theme:"accent",className:"bg-transparent"},{variant:"outline",theme:"destructive",className:"bg-transparent"},{variant:"outline",theme:"success",className:"bg-transparent"},{variant:"outline",theme:"warning",className:"bg-transparent"}],defaultVariants:{variant:"soft",theme:"neutral",size:"sm"}}),Z=t.forwardRef(({className:e,variant:r,theme:o,size:s,...d},u)=>n.jsx(Ke,{ref:u,className:A(jt({variant:r,theme:o,size:s}),e),...d}));Z.displayName=Ke.displayName;const Be=t.forwardRef(({className:e,...r},o)=>n.jsx(Ue,{ref:o,className:A("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",ne({variant:"badge"}),e),...r}));Be.displayName=Ue.displayName;const ie=t.forwardRef(({className:e,...r},o)=>n.jsx(Xe,{ref:o,className:A("absolute right-2 top-2 rounded-md p-1 text-foreground/50 transition-opacity hover:text-foreground focus:outline-none focus:ring-1 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:n.jsx(q,{icon:n.jsx(dt,{})})}));ie.displayName=Xe.displayName;const de=t.forwardRef(({className:e,...r},o)=>n.jsx(We,{ref:o,className:A(ne({variant:"regular"}),e),...r}));de.displayName=We.displayName;const ue=t.forwardRef(({className:e,...r},o)=>n.jsx(He,{ref:o,className:A(ne({variant:"regular"})," opacity-90",e),...r}));ue.displayName=He.displayName;ce.__docgenInfo={description:"",methods:[]};Z.__docgenInfo={description:"",methods:[]};de.__docgenInfo={description:"",methods:[]};ue.__docgenInfo={description:"",methods:[]};ie.__docgenInfo={description:"",methods:[]};Be.__docgenInfo={description:"",methods:[]};function Ot(e){switch(e){case"success":return n.jsx(q,{icon:n.jsx(Je,{})});case"destructive":return n.jsx(q,{icon:n.jsx(qe,{})});default:return n.jsx(q,{icon:n.jsx(Ge,{})})}}function j(){const{toasts:e}=Ne();return n.jsxs(At,{children:[e.map(function({id:r,title:o,description:s,action:d,icon:u,...l}){return n.jsxs(Z,{...l,children:[n.jsxs("div",{className:"flex items-start gap-2",children:[u||Ot(l.theme),n.jsxs("div",{className:"grid gap-1 pr-6",children:[o&&n.jsx(de,{children:o}),s&&n.jsx(ue,{children:s})]})]}),d,n.jsx(ie,{})]},r)}),n.jsx(ce,{})]})}j.__docgenInfo={description:"",methods:[],displayName:"Toaster"};const nr={title:"Xenith UI/Components/Toast",component:Z,tags:["autodocs"],args:{title:"Text"},decorators:e=>n.jsxs(n.Fragment,{children:[n.jsx(j,{}),n.jsx(e,{})]}),render:e=>{const{toast:r}=Ne();function o(){r(e)}return n.jsx(ut,{variant:"outline",onClick:o,children:"Show Toast"})}},U={},X={decorators:e=>n.jsxs(n.Fragment,{children:[n.jsx(j,{}),n.jsx(e,{})]}),args:{theme:"accent"}},B={decorators:e=>n.jsxs(n.Fragment,{children:[n.jsx(j,{}),n.jsx(e,{})]}),args:{theme:"destructive",variant:"surface"}},Y={decorators:e=>n.jsxs(n.Fragment,{children:[n.jsx(j,{}),n.jsx(e,{})]}),args:{theme:"success",variant:"outline"}},z={decorators:e=>n.jsxs(n.Fragment,{children:[n.jsx(j,{}),n.jsx(e,{})]}),args:{theme:"warning"}};var me,be,ve;U.parameters={...U.parameters,docs:{...(me=U.parameters)==null?void 0:me.docs,source:{originalSource:"{}",...(ve=(be=U.parameters)==null?void 0:be.docs)==null?void 0:ve.source}}};var $e,we,xe;X.parameters={...X.parameters,docs:{...($e=X.parameters)==null?void 0:$e.docs,source:{originalSource:`{
  decorators: Story => <>
      <Toaster />
      <Story />
    </>,
  args: {
    theme: "accent"
  }
}`,...(xe=(we=X.parameters)==null?void 0:we.docs)==null?void 0:xe.source}}};var Te,ge,Ee;B.parameters={...B.parameters,docs:{...(Te=B.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  decorators: Story => <>
      <Toaster />
      <Story />
    </>,
  args: {
    theme: "destructive",
    variant: "surface"
  }
}`,...(Ee=(ge=B.parameters)==null?void 0:ge.docs)==null?void 0:Ee.source}}};var he,ye,_e;Y.parameters={...Y.parameters,docs:{...(he=Y.parameters)==null?void 0:he.docs,source:{originalSource:`{
  decorators: Story => <>
      <Toaster />
      <Story />
    </>,
  args: {
    theme: "success",
    variant: "outline"
  } as ToastProps
}`,...(_e=(ye=Y.parameters)==null?void 0:ye.docs)==null?void 0:_e.source}}};var Ce,Se,Pe;z.parameters={...z.parameters,docs:{...(Ce=z.parameters)==null?void 0:Ce.docs,source:{originalSource:`{
  decorators: Story => <>
      <Toaster />
      <Story />
    </>,
  args: {
    theme: "warning"
  } as ToastProps
}`,...(Pe=(Se=z.parameters)==null?void 0:Se.docs)==null?void 0:Pe.source}}};const ar=["Default","VariantSoftThemeAccent","VariantSurfaceThemeDestructive","VariantOutlineThemeSuccess","VariantSoftThemeWarning"];export{U as Default,Y as VariantOutlineThemeSuccess,X as VariantSoftThemeAccent,z as VariantSoftThemeWarning,B as VariantSurfaceThemeDestructive,ar as __namedExportsOrder,nr as default};
