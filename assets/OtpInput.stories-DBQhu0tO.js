import{j as s}from"./jsx-runtime-DWbWqHZ-.js";import{r as o}from"./index-l2PZgWEW.js";import{c as d}from"./cn-C-5SdYIA.js";import{I as P}from"./useClickOutside-CRpIgq7P.js";import{h as L}from"./Heading-B_Jl69qA.js";import"./styles-BNEhTmYy.js";import"./index-Bb4qSo10.js";import"./Icon-ev__gahW.js";import"./search-BceqokmR.js";import"./close-Bwe4q-Z3.js";import"./stringCase-DaZl3p-i.js";import"./spinner-D3uK0xOl.js";import"./chevron-down-jNWesQvo.js";import"./check-4u3gJW-P.js";import"./index-BgmTQNcy.js";import"./index-CaNG7YX3.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-fvTbNGom.js";import"./floating-ui.dom-BuxmzwbT.js";import"./Button-BZP4uVeL.js";import"./index-Cm6j2cFO.js";import"./styles-DsUnyYA6.js";import"./index-DjcUcJmE.js";import"./Checkbox-BePh-fpO.js";import"./index-CZsjDy6p.js";import"./index-BmdjtsoG.js";import"./index-DZOIkxWA.js";const h=({onComplete:i,errorMessage:l,className:S,disabled:c})=>{const T=d("w-[48px] h-[48px] flex items-center justify-center",{"bg-bg-weaker":c}),[r,k]=o.useState(["","","","","",""]),v=g=>{c||k(g)},a=[o.useRef(null),o.useRef(null),o.useRef(null),o.useRef(null),o.useRef(null),o.useRef(null)],_=" ",y=typeof l=="string"&&l.length>0;return s.jsxs("div",{className:d("grid gap-2 min-w-[400px]",S),children:[s.jsx("div",{className:"flex justify-between",children:r.map((g,e)=>s.jsx(P,{value:g,ref:a[e],onKeyDown:t=>{var u;if(c){t.stopPropagation(),t.preventDefault();return}r[e]===""&&t.code.toLowerCase()==="backspace"&&e!==0&&((u=a[e-1].current)==null||u.focus()),r[e]!==""&&t.code.toLowerCase()==="enter"&&e===r.length-1&&i(r.join(""))},onChange:t=>{var f,R,j,b;if(t.target.value.length&&!/^[0-9]+$/gim.test(t.target.value)||t.target.value.length>1&&e===r.length-1)return;const u=r.filter(n=>n!=="").length;if(t.target.value.length&&u===r.length-1&&i(t.target.value),t.target.value.length>1&&e!==r.length-1){const n=t.target.value[t.target.value.length-1];v(r.map((q,x)=>x===e+1?n:q)),(f=a[e+1].current)==null||f.focus();return}if(t.target.value.length===1&&e!==r.length-1&&((R=a[e+1].current)==null||R.focus()),t.target.value.length<1&&e!==0&&((j=a[e-1].current)==null||j.focus()),r[e].length&&t.target.value.length&&e!==r.length-1){(b=a[e+1].current)==null||b.focus();return}v(r.map((n,C)=>e===C?t.target.value:n))},error:y,containerClassName:T,className:d("text-center",L({variant:"titleMd"}),{"bg-bg-weaker":c}),placeholder:_},e))}),y&&s.jsx("div",{children:s.jsx("p",{className:"text-text-critical",children:l})})]})};h.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{onComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: string) => void",signature:{arguments:[{type:{name:"string"},name:"values"}],return:{name:"void"}}},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const ce={title:"Xenith UI/Components/OtpInput",parameters:{layout:"centered",docs:{subtitle:"Displays a form input field or a component that looks like an input field."}},tags:["autodocs"]},p={render:()=>s.jsx("div",{className:"grid gap-1",children:s.jsx(h,{onComplete:()=>console.log("yey complete")})})},m={render:()=>{const[i,l]=o.useState(!1);return s.jsx("div",{className:"grid gap-1",children:s.jsx(h,{onComplete:()=>{l(!0),console.log("yey complete")},disabled:i,errorMessage:"OTP you have entered is incorrect"})})}};var N,w,I;p.parameters={...p.parameters,docs:{...(N=p.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: () => <div className="grid gap-1">
      <OtpInput onComplete={() => console.log("yey complete")} />
    </div>
}`,...(I=(w=p.parameters)==null?void 0:w.docs)==null?void 0:I.source}}};var D,O,E;m.parameters={...m.parameters,docs:{...(D=m.parameters)==null?void 0:D.docs,source:{originalSource:`{
  render: () => {
    const [disabled, setDisabled] = useState(false);
    return <div className="grid gap-1">
        <OtpInput onComplete={() => {
        setDisabled(true);
        console.log("yey complete");
      }} disabled={disabled} errorMessage="OTP you have entered is incorrect" />
      </div>;
  }
}`,...(E=(O=m.parameters)==null?void 0:O.docs)==null?void 0:E.source}}};const ue=["Default","WithError"];export{p as Default,m as WithError,ue as __namedExportsOrder,ce as default};
