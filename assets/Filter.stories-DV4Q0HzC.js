import{j as e}from"./jsx-runtime-DWbWqHZ-.js";import{r as l}from"./index-l2PZgWEW.js";import{I as A}from"./Icon-BVoV0EQW.js";import{F as R}from"./filter-BJuVaPw1.js";import{F as V}from"./close-Bwe4q-Z3.js";import{S as $,b as D,c as H,f as E,a as K,g as q}from"./Sheet-DoFRuwKw.js";import{h as U}from"./Heading-B_Jl69qA.js";import{B as c}from"./Button-vat5KHQw.js";import{T as z,a as W,b as S,c as x,d as X,e as f}from"./Table-BTy10kBF.js";import{d as G}from"./useClickOutside-BEjEz6Ye.js";import"./cn-C-5SdYIA.js";import"./index-Bb4qSo10.js";import"./index-Vudkywkh.js";import"./index-BgmTQNcy.js";import"./index-CaNG7YX3.js";import"./index-DPMSfDr2.js";import"./index-C76mvIvD.js";import"./index-Bel6ALHY.js";import"./index-DZOIkxWA.js";import"./index-Cm6j2cFO.js";import"./styles-BRwXF_yu.js";import"./styles-BNEhTmYy.js";import"./spinner-DNNsglCv.js";import"./sort-down-CKv955Md.js";import"./Text-UY6J7iD0.js";import"./search-Bt8qP1Fx.js";import"./chevron-down-jNWesQvo.js";import"./check-4u3gJW-P.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-fvTbNGom.js";import"./floating-ui.dom-BuxmzwbT.js";import"./index-DjcUcJmE.js";import"./Checkbox-BO35WX6q.js";import"./index-CZsjDy6p.js";import"./index-BmdjtsoG.js";const I=l.createContext({filter:{},open:!1,setOpen:()=>{},setFilter:()=>{},onApply:()=>{},onReset:()=>{}}),m=()=>{const{filter:r,setFilter:t,onApply:s,onReset:a,setOpen:i,open:n}=l.useContext(I);return{filter:r,setFilterByKey:(d,o)=>{t(u=>({...u,[d]:o}))},onApply:s,onReset:a,setOpen:i,open:n}},C=r=>{const{open:t,setOpen:s}=m();return e.jsx($,{...r,open:t,onOpenChange:s})};C.displayName="FilterSheet";const P=D;P.displayName="FilterSheetContent";const M=q;M.displayName="FilterSheetClose";const O=()=>{const{onReset:r,filter:t}=m(),s=Object.keys(t).length;return e.jsx(H,{children:e.jsxs("div",{className:U({variant:"titleMd",className:"text-text-default font-semibold justify-between flex items-center"}),children:[e.jsx("div",{children:s?`Filter (${s})`:"Filter"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"link",theme:"primary",onClick:()=>r(),children:"Reset all"}),e.jsx(M,{asChild:!0,children:e.jsx(c,{iconOnly:!0,icon:e.jsx(A,{icon:e.jsx(V,{})}),size:"xs",theme:"neutral",variant:"nude"})})]})]})})},w=()=>{const{onApply:r,setOpen:t}=m();return e.jsxs(E,{children:[e.jsx(c,{theme:"neutral",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(c,{onClick:()=>r(),children:"Apply Filter"})]})},_=()=>{const{filter:r}=m(),t=Object.keys(r).length;return e.jsx(K,{asChild:!0,children:e.jsx(c,{variant:"outline",icon:e.jsx(A,{icon:e.jsx(R,{}),className:"text-text-weak"}),theme:t?"primary":"neutral",children:t?`Filter (${t})`:"Filter"})})};C.__docgenInfo={description:"",methods:[],displayName:"FilterSheet"};O.__docgenInfo={description:"",methods:[],displayName:"FilterHeader"};w.__docgenInfo={description:"",methods:[],displayName:"FilterFooter"};_.__docgenInfo={description:"",methods:[],displayName:"FilterTrigger"};const g=({children:r,onApply:t})=>{const[s,a]=l.useState({}),[i,n]=l.useState(!1),p=o=>()=>{t(o),n(!1)},d=o=>{const u=Object.keys(s),k=o?[o]:u,B=u.reduce((h,y)=>k.includes(y)?(h[y]=null,h):(h[y]=s[y],h),{});a(B)};return e.jsx(I.Provider,{value:{filter:s,setFilter:a,open:i,setOpen:n,onReset:d,onApply:p(s)},children:r})};g.__docgenInfo={description:"",methods:[],displayName:"FilterProvider",props:{onApply:{required:!0,tsType:{name:"signature",type:"function",raw:"(filter: FilterType) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"union",raw:"null | string | string[]",elements:[{name:"null"},{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]}],raw:"Record<string, FilterValueType>"},name:"filter"}],return:{name:"void"}}},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren"]};const v=[{invoice:"INV001",paymentStatus:"Paid",totalAmount:"$250.00",paymentMethod:"Credit Card"},{invoice:"INV002",paymentStatus:"Pending",totalAmount:"$150.00",paymentMethod:"PayPal"},{invoice:"INV003",paymentStatus:"Unpaid",totalAmount:"$350.00",paymentMethod:"Bank Transfer"},{invoice:"INV004",paymentStatus:"Paid",totalAmount:"$450.00",paymentMethod:"Credit Card"},{invoice:"INV005",paymentStatus:"Paid",totalAmount:"$550.00",paymentMethod:"PayPal"},{invoice:"INV006",paymentStatus:"Pending",totalAmount:"$200.00",paymentMethod:"Bank Transfer"},{invoice:"INV007",paymentStatus:"Unpaid",totalAmount:"$300.00",paymentMethod:"Credit Card"}],F=[{label:"Credit Card",value:"Credit Card"},{label:"Bank Transfer",value:"Bank Transfer"},{label:"PayPal",value:"PayPal"}],J=({filteredData:r})=>{const{filter:t,setFilterByKey:s}=m(),[a,i]=l.useState(F.find(n=>n.value===t.paymentMethod));return l.useEffect(()=>{i(F.find(n=>n.value===t.paymentMethod))},[t]),console.log(a),e.jsxs("div",{children:[e.jsxs(C,{children:[e.jsx(_,{}),e.jsxs(P,{children:[e.jsx(O,{}),e.jsx(G,{options:F,defaultValue:a,onChange:n=>{s("paymentMethod",n.value),i(n)}}),e.jsx(w,{})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(z,{children:[e.jsx(W,{children:e.jsxs(S,{children:[e.jsx(x,{className:"w-[100px]",children:"Invoice"}),e.jsx(x,{children:"Status"}),e.jsx(x,{children:"Method"}),e.jsx(x,{className:"text-right",children:"Amount"})]})}),e.jsx(X,{children:r.map(n=>e.jsxs(S,{children:[e.jsx(f,{className:"font-medium",children:n.invoice}),e.jsx(f,{children:n.paymentStatus}),e.jsx(f,{children:n.paymentMethod}),e.jsx(f,{className:"text-right",children:n.totalAmount})]},n.invoice))})]})})]})},Me={title:"Xenith UI/Components/Filter",tags:["autodocs"],component:g,argTypes:{children:{type:"function",description:"`ReactNode`"}},args:{onApply:()=>{}},render:r=>{const[t,s]=l.useState(v);return e.jsx(g,{...r,onApply:a=>{const n=Object.keys(a).reduce((p,d)=>p.filter(o=>o[d]===a[d]),v);s(n)},children:e.jsx(J,{filteredData:t})})}},j={};var N,b,T;j.parameters={...j.parameters,docs:{...(N=j.parameters)==null?void 0:N.docs,source:{originalSource:"{}",...(T=(b=j.parameters)==null?void 0:b.docs)==null?void 0:T.source}}};const Oe=["Default"];export{j as Default,Oe as __namedExportsOrder,Me as default};
