import{j as a}from"./jsx-runtime-DWbWqHZ-.js";import{r as s}from"./index-l2PZgWEW.js";import{c as b}from"./cn-C-5SdYIA.js";import{I as K}from"./useClickOutside-DQJK4-Xa.js";import{h as U}from"./Heading-B_Jl69qA.js";import"./styles-BNEhTmYy.js";import"./index-Bb4qSo10.js";import"./Icon-ev__gahW.js";import"./search-BceqokmR.js";import"./close-Bwe4q-Z3.js";import"./stringCase-DaZl3p-i.js";import"./spinner-D3uK0xOl.js";import"./chevron-down-jNWesQvo.js";import"./check-4u3gJW-P.js";import"./index-BgmTQNcy.js";import"./index-CaNG7YX3.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-fvTbNGom.js";import"./floating-ui.dom-BuxmzwbT.js";import"./Button--egxP2zT.js";import"./index-Cm6j2cFO.js";import"./styles-DsUnyYA6.js";import"./index-DjcUcJmE.js";import"./Checkbox-BePh-fpO.js";import"./index-CZsjDy6p.js";import"./index-BmdjtsoG.js";import"./index-DZOIkxWA.js";const N=({onComplete:o,onClear:v=()=>{},errorMessage:y,className:_,disabled:c})=>{const P=b("w-[48px] h-[48px] flex items-center justify-center",{"bg-bg-weaker":c}),[r,L]=s.useState(["","","","","",""]),i=R=>{c||L(R)},u=[s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null)],M=" ",w=typeof y=="string"&&y.length>0&&r.join("").length>0;return s.useEffect(()=>{r.join("").length===0&&v()},[r.join("")]),a.jsxs("div",{className:b("grid gap-2 min-w-[400px]",_),children:[a.jsx("div",{className:"flex justify-between",children:r.map((R,e)=>a.jsx(K,{value:R,ref:t=>{console.log(t),t&&e===0&&t.focus()},onKeyDown:t=>{var p;if(c){t.stopPropagation(),t.preventDefault();return}r[e]===""&&t.code.toLowerCase()==="backspace"&&e!==0&&((p=u[e-1].current)==null||p.focus(),i(r.map((m,f)=>f===e?"":m))),r[e]!==""&&t.code.toLowerCase()==="enter"&&e===r.length-1&&o(r.join(""))},onChange:t=>{var j,m,f,I,D;if(t.target.value.length&&!/^[0-9]+$/gim.test(t.target.value))return;if(t.target.value.length>1){if(e!==r.length-1){const n=t.target.value[t.target.value.length-1],l=r.map((C,W)=>W===e+1?n:C);i(l),(j=u[e+1].current)==null||j.focus(),r.filter(C=>C!=="").length===r.length-1&&o(l.join(""))}return}const p=r.filter(n=>n!=="").length;if(t.target.value.length&&p===r.length-1){const n=r.map((l,g)=>g===e?t.target.value:l);o(n.join("")),i(n);return}if(t.target.value.length>1&&e!==r.length-1){const n=t.target.value[t.target.value.length-1];i(r.map((g,O)=>O===e+1?n:g)),(m=u[e+1].current)==null||m.focus();return}if(t.target.value.length===1&&e!==r.length-1&&((f=u[e+1].current)==null||f.focus()),t.target.value.length<1&&e!==0&&((I=u[e-1].current)==null||I.focus()),r[e].length&&t.target.value.length&&e!==r.length-1){(D=u[e+1].current)==null||D.focus();return}i(r.map((n,l)=>e===l?t.target.value:n))},error:w,containerClassName:P,className:b("text-center",U({variant:"titleMd"}),{"bg-bg-weaker":c}),placeholder:M},e))}),w&&a.jsx("div",{children:a.jsx("p",{className:"text-text-critical",children:y})})]})};N.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{onComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: string) => void",signature:{arguments:[{type:{name:"string"},name:"values"}],return:{name:"void"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1}},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const fe={title:"Xenith UI/Components/OtpInput",parameters:{layout:"centered",docs:{subtitle:"Displays a form input field or a component that looks like an input field."}},tags:["autodocs"]},d={render:()=>a.jsx("div",{className:"grid gap-1",children:a.jsx(N,{onComplete:o=>console.log("yey complete",o)})})},h={render:()=>{const[o,v]=s.useState(!1);return a.jsx("div",{className:"grid gap-1",children:a.jsx(N,{onComplete:()=>{v(!0),console.log("yey complete")},disabled:o,errorMessage:"OTP you have entered is incorrect"})})}};var E,T,S;d.parameters={...d.parameters,docs:{...(E=d.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: () => <div className="grid gap-1">
      <OtpInput onComplete={v => console.log("yey complete", v)} />
    </div>
}`,...(S=(T=d.parameters)==null?void 0:T.docs)==null?void 0:S.source}}};var k,q,V;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => {
    const [disabled, setDisabled] = useState(false);
    return <div className="grid gap-1">
        <OtpInput onComplete={() => {
        setDisabled(true);
        console.log("yey complete");
      }} disabled={disabled} errorMessage="OTP you have entered is incorrect" />
      </div>;
  }
}`,...(V=(q=h.parameters)==null?void 0:q.docs)==null?void 0:V.source}}};const ge=["Default","WithError"];export{d as Default,h as WithError,ge as __namedExportsOrder,fe as default};
