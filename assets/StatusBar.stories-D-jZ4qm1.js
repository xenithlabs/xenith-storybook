import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{g as H,B as z,X as G,Y as K,f as J,n as Q,S as Z,N as ee,a as ae,E as se,L as te,R as re,T as ne,b as n,c as oe,e as j,m as ie}from"./charts-CNYiuotl.js";import{c as i}from"./cn-8RyR4BqC.js";import{F as le}from"./info-Cre7IJy9.js";import{r as pe}from"./index-DRjF_FHU.js";import{T as de}from"./Text-C8HBwI4b.js";import{T as y,a as w,b as N,c as S}from"./Tooltip-D2ba4dcD.js";import{I as ce}from"./Icon-CTnhpE1d.js";import"./Skeleton-CBnrsDVZ.js";import"./tiny-invariant-CopsF_GD.js";import"./spinner-ZMRwnkYw.js";import"./eye-off-BKECGSzU.js";import"./index-HZDBD2ik.js";import"./styles-x1yxmyQd.js";import"./index-Bb4qSo10.js";import"./index-DuXoWBk8.js";import"./index-CxRLcT2J.js";import"./index-DdILnG7L.js";import"./index-qtGI3euC.js";import"./index-CxZrjbHI.js";import"./floating-ui.dom-BuxmzwbT.js";import"./index-KY2xTor3.js";import"./index-BhXpUKZt.js";import"./index-BXQDTo2X.js";var me=H({chartName:"BarChart",GraphicalChild:z,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:G},{axisType:"yAxis",AxisComp:K}],formatAxisMap:J});const T=({percentage:s,status:r,value:l})=>e.jsxs("div",{className:"flex py-[6px] px-[12px] gap-4 bg-bg-default border text-sm rounded-md shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-default",children:[e.jsx("div",{className:i("w-[10px] h-[10px] rounded-md",typeof n[r]>"u"&&"bg-[repeating-linear-gradient(-45deg,_transparent_0_3px,_rgba(42,42,42,0.12)_3px_5px)]",r==="pending approval"&&"bg-[repeating-linear-gradient(-45deg,_transparent_0_3px,_rgba(42,42,42,0.5)_3px_5px)]"),style:{backgroundColor:n[r]||"var(--colors-yellow-7)"}}),e.jsxs("p",{children:[s,"%"]})]}),e.jsxs("div",{className:"flex gap-1 font-medium text-text-default",children:[e.jsx("p",{children:oe(l)}),e.jsx("p",{children:"Trx"})]})]}),o=({hasAccess:s=!0,isLoading:r=!1,label:l,data:p,tooltipText:b,tooltipContentClassName:X,containerClassName:F})=>{const[f,V]=pe.useState(()=>!p||p.length===0?{status:"pending",percentage:0,value:0}:p[0]),c=Q(p).sort((a,t)=>t.percentage-a.percentage),W=[...c].sort((a,t)=>a.percentage-t.percentage).map(a=>a.status),Y=c.reduce((a,t)=>(a[t.status]=t.percentage,a),{name:l}),v=!s&&!r,$=!r&&!p.length;return e.jsxs("div",{className:i("w-full min-h-[230px] flex flex-col p-4 pb-[10px] border rounded-md bg-bg-default overflow-hidden",F),children:[e.jsx("div",{className:"flex items-center gap-2 mb-[9px] h-[24px]",children:e.jsxs(Z,{className:"w-full h-full",loading:!l&&!b,children:[e.jsx(de,{variant:"subtitle",className:"font-semibold",children:l}),e.jsx(y,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsx(ce,{icon:e.jsx(le,{})})}),e.jsx(S,{className:i("break-words text-xs font-medium",X),children:b})]})})]})}),e.jsxs("div",{className:"relative flex-1",children:[v&&e.jsx(ee,{}),r&&e.jsx(ae,{}),$&&s&&e.jsx(se,{}),r||v?e.jsx(te,{isBlur:v}):e.jsx("div",{className:"rounded-md overflow-hidden",children:e.jsx(re,{width:"100%",height:30,className:i(!s&&"blur-sm"),children:e.jsxs(me,{data:[Y],layout:"vertical",barGap:0,barCategoryGap:0,margin:{top:0,right:0,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("pattern",{id:"patternStripes",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:[e.jsx("rect",{width:"100%",height:"100%",className:"fill-[var(--colors-yellow-7)]"}),e.jsx("line",{x1:"4",y1:"0",x2:"4",y2:"20",strokeWidth:"3",className:"stroke-[#2a2a2a] opacity-[0.12]"})]}),e.jsxs("pattern",{id:"pendingApproval",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:[e.jsx("rect",{width:"100%",height:"100%",className:"fill-[var(--colors-yellow-7)]"}),e.jsx("line",{x1:"4",y1:"0",x2:"4",y2:"20",strokeWidth:"2",className:"stroke-[#2a2a2a] opacity-[0.5]"})]})]}),e.jsx(G,{type:"number",hide:!0}),e.jsx(K,{type:"category",dataKey:"name",hide:!0}),s&&e.jsx(ne,{content:e.jsx(T,{percentage:f.percentage,status:f.status,value:f.value}),cursor:!1}),W.map(a=>{const t=c.find(d=>d.status===a);return e.jsx(z,{dataKey:a,stackId:"a",fill:s?a==="pending approval"?"url(#pendingApproval)":n[a]||"url(#patternStripes)":n.expired,name:a,isAnimationActive:!1,opacity:s?1:.5,onMouseEnter:()=>{V({percentage:t.percentage,status:t.status,value:t.value})},shape:d=>e.jsx("rect",{...d,shapeRendering:"crispEdges"})},a)})]})})}),!r&&e.jsx("div",{className:i("flex flex-col mt-2 text-sm divide-y divide-[var(--colors-gray-3)]",!s&&"blur-sm opacity-[0.5]"),children:c.map(({status:a,percentage:t,value:d})=>e.jsx("div",{className:"w-full",children:s?e.jsx(y,{children:e.jsxs(w,{children:[e.jsx(N,{className:"w-full",children:e.jsxs("div",{className:"w-full flex justify-between items-center p-[8px] h-[32px] rounded-md hover:bg-[var(--colors-bg-weak)] select-none text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:i("inline-block w-[16px] h-[16px] rounded-sm",typeof n[a]>"u"&&"bg-[repeating-linear-gradient(-45deg,_transparent_0_3px,_rgba(42,42,42,0.12)_3px_5px)]",a==="pending approval"&&"bg-[repeating-linear-gradient(-45deg,_transparent_0_3px,_rgba(42,42,42,0.5)_3px_5px)]"),style:{backgroundColor:n[a]||"var(--colors-yellow-7)"}}),e.jsx("span",{className:"capitalize",children:a})]}),e.jsxs("span",{className:"font-medium",children:[t,"%"]})]})}),e.jsx(S,{className:"p-0 bg-transparent border-none outline-none",children:e.jsx(T,{percentage:t,status:a,value:d})})]})}):e.jsxs("div",{className:"w-full flex justify-between items-center p-[8px] h-[32px] rounded-md select-none text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block w-[16px] h-[16px] rounded-sm",style:{backgroundColor:n.expired}}),e.jsx("span",{className:"capitalize",children:a})]}),e.jsxs("span",{children:[t,"%"]})]})},a))})]})]})};o.__docgenInfo={description:"",methods:[],displayName:"StatusBar",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"IChartBarData"}],raw:"IChartBarData[]"},description:""},label:{required:!0,tsType:{name:"string"},description:""},hasAccess:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},tooltipText:{required:!0,tsType:{name:"string"},description:""},tooltipContentClassName:{required:!1,tsType:{name:"string"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""}}};const qe={title:"Xenith UI/Components/StatusBar",component:o,tags:["autodocs"],parameters:{docs:{subtitle:"Status Bar"}}},m={args:{data:j,tooltipText:"Breakdown of Pay In transactions by status.",label:"Status Overview",hasAccess:!0,isLoading:!1},render:s=>e.jsx(o,{...s})},x={args:{data:ie,tooltipText:"Breakdown of Pay In transactions by status.",label:"Status Overview",hasAccess:!0,isLoading:!1},render:s=>e.jsx(o,{...s})},u={args:{data:j,containerClassName:"h-[500px] bg-red-500",tooltipText:"Breakdown of Pay In transactions by status.",label:"Status Overview",hasAccess:!1,isLoading:!1},render:s=>e.jsx(o,{...s})},g={args:{data:j,tooltipText:"Breakdown of Pay In transactions by status.",label:"Status Overview",hasAccess:!0,isLoading:!0},render:s=>e.jsx(o,{...s})},h={args:{data:[],tooltipText:"Breakdown of Pay In transactions by status.",label:"Status Overview",hasAccess:!0,isLoading:!1},render:s=>e.jsx(o,{...s})};var B,_,C;m.parameters={...m.parameters,docs:{...(B=m.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    data: exampleStatusBarData,
    tooltipText: "Breakdown of Pay In transactions by status.",
    label: "Status Overview",
    hasAccess: true,
    isLoading: false
  },
  render: args => <StatusBar {...args} />
}`,...(C=(_=m.parameters)==null?void 0:_.docs)==null?void 0:C.source}}};var A,k,I;x.parameters={...x.parameters,docs:{...(A=x.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    data: mismatchStatusBarData,
    tooltipText: "Breakdown of Pay In transactions by status.",
    label: "Status Overview",
    hasAccess: true,
    isLoading: false
  },
  render: args => <StatusBar {...args} />
}`,...(I=(k=x.parameters)==null?void 0:k.docs)==null?void 0:I.source}}};var D,O,P;u.parameters={...u.parameters,docs:{...(D=u.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    data: exampleStatusBarData,
    containerClassName: "h-[500px] bg-red-500",
    tooltipText: "Breakdown of Pay In transactions by status.",
    label: "Status Overview",
    hasAccess: false,
    isLoading: false
  },
  render: args => <StatusBar {...args} />
}`,...(P=(O=u.parameters)==null?void 0:O.docs)==null?void 0:P.source}}};var L,E,q;g.parameters={...g.parameters,docs:{...(L=g.parameters)==null?void 0:L.docs,source:{originalSource:`{
  args: {
    data: exampleStatusBarData,
    tooltipText: "Breakdown of Pay In transactions by status.",
    label: "Status Overview",
    hasAccess: true,
    isLoading: true
  },
  render: args => <StatusBar {...args} />
}`,...(q=(E=g.parameters)==null?void 0:E.docs)==null?void 0:q.source}}};var R,M,U;h.parameters={...h.parameters,docs:{...(R=h.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    data: [],
    tooltipText: "Breakdown of Pay In transactions by status.",
    label: "Status Overview",
    hasAccess: true,
    isLoading: false
  },
  render: args => <StatusBar {...args} />
}`,...(U=(M=h.parameters)==null?void 0:M.docs)==null?void 0:U.source}}};const Re=["Default","Mismatch","NoAccess","Loading","NoData"];export{m as Default,g as Loading,x as Mismatch,u as NoAccess,h as NoData,Re as __namedExportsOrder,qe as default};
