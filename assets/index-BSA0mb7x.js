import{_ as T,a as ee}from"./index-q8uFWT42.js";import{r as o}from"./index-l2PZgWEW.js";import{c as ye,o as ve,s as Pe,f as be,a as _e,h as Ae,b as G,l as Se,d as Re}from"./floating-ui.dom-BuxmzwbT.js";import{r as Ee}from"./index-CaNG7YX3.js";import{$ as Z,a as Ce,f as De,e as J}from"./index-CeZp-NtI.js";import{$ as Oe}from"./index-Vu1Slila.js";var j=typeof document<"u"?o.useLayoutEffect:o.useEffect;function L(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!L(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!L(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function te(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function K(e,t){const r=te(e);return Math.round(t*r)/r}function Q(e){const t=o.useRef(e);return j(()=>{t.current=e}),t}function Me(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:w,open:p}=e,[d,f]=o.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[E,$]=o.useState(n);L(E,n)||$(n);const[A,M]=o.useState(null),[h,S]=o.useState(null),g=o.useCallback(c=>{c!==R.current&&(R.current=c,M(c))},[]),m=o.useCallback(c=>{c!==y.current&&(y.current=c,S(c))},[]),s=i||A,x=l||h,R=o.useRef(null),y=o.useRef(null),C=o.useRef(d),H=w!=null,W=Q(w),k=Q(a),v=o.useCallback(()=>{if(!R.current||!y.current)return;const c={placement:t,strategy:r,middleware:E};k.current&&(c.platform=k.current),ye(R.current,y.current,c).then(D=>{const _={...D,isPositioned:!0};N.current&&!L(C.current,_)&&(C.current=_,Ee.flushSync(()=>{f(_)}))})},[E,t,r,k]);j(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(c=>({...c,isPositioned:!1})))},[p]);const N=o.useRef(!1);j(()=>(N.current=!0,()=>{N.current=!1}),[]),j(()=>{if(s&&(R.current=s),x&&(y.current=x),s&&x){if(W.current)return W.current(s,x,v);v()}},[s,x,v,W,H]);const P=o.useMemo(()=>({reference:R,floating:y,setReference:g,setFloating:m}),[g,m]),b=o.useMemo(()=>({reference:s,floating:x}),[s,x]),z=o.useMemo(()=>{const c={position:r,left:0,top:0};if(!b.floating)return c;const D=K(b.floating,d.x),_=K(b.floating,d.y);return u?{...c,transform:"translate("+D+"px, "+_+"px)",...te(b.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:_}},[r,u,b.floating,d.x,d.y]);return o.useMemo(()=>({...d,update:v,refs:P,elements:b,floatingStyles:z}),[d,v,P,b,z])}const He=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?G({element:n.current,padding:a}).fn(r):{}:n?G({element:n,padding:a}).fn(r):{}}}},We=(e,t)=>({...ve(e),options:[e,t]}),ke=(e,t)=>({...Pe(e),options:[e,t]}),Ne=(e,t)=>({...Se(e),options:[e,t]}),ze=(e,t)=>({...be(e),options:[e,t]}),Fe=(e,t)=>({..._e(e),options:[e,t]}),Ye=(e,t)=>({...Ae(e),options:[e,t]}),Be=(e,t)=>({...He(e),options:[e,t]}),Ie=o.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.createElement(Z.svg,T({},i,{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:o.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Xe=Ie,re="Popper",[ne,ct]=Ce(re),[je,oe]=ne(re),Le=e=>{const{__scopePopper:t,children:r}=e,[n,a]=o.useState(null);return o.createElement(je,{scope:t,anchor:n,onAnchorChange:a},r)},Te="PopperAnchor",Ze=o.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=oe(Te,r),l=o.useRef(null),u=ee(t,l);return o.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:o.createElement(Z.div,T({},a,{ref:u}))}),ae="PopperContent",[qe,Ue]=ne(ae),Ve=o.forwardRef((e,t)=>{var r,n,a,i,l,u,w,p;const{__scopePopper:d,side:f="bottom",sideOffset:E=0,align:$="center",alignOffset:A=0,arrowPadding:M=0,avoidCollisions:h=!0,collisionBoundary:S=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:s=!1,updatePositionStrategy:x="optimized",onPlaced:R,...y}=e,C=oe(ae,d),[H,W]=o.useState(null),k=ee(t,F=>W(F)),[v,N]=o.useState(null),P=Oe(v),b=(r=P==null?void 0:P.width)!==null&&r!==void 0?r:0,z=(n=P==null?void 0:P.height)!==null&&n!==void 0?n:0,c=f+($!=="center"?"-"+$:""),D=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},_=Array.isArray(S)?S:[S],ce=_.length>0,Y={padding:D,boundary:_.filter(Qe),altBoundary:ce},{refs:se,floatingStyles:q,placement:le,isPositioned:B,middlewareData:O}=Me({strategy:"fixed",placement:c,whileElementsMounted:(...F)=>Re(...F,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[We({mainAxis:E+z,alignmentAxis:A}),h&&ke({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Ne():void 0,...Y}),h&&ze({...Y}),Fe({...Y,apply:({elements:F,rects:V,availableWidth:we,availableHeight:he})=>{const{width:ge,height:xe}=V.reference,X=F.floating.style;X.setProperty("--radix-popper-available-width",`${we}px`),X.setProperty("--radix-popper-available-height",`${he}px`),X.setProperty("--radix-popper-anchor-width",`${ge}px`),X.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),v&&Be({element:v,padding:M}),et({arrowWidth:b,arrowHeight:z}),s&&Ye({strategy:"referenceHidden",...Y})]}),[U,de]=ie(le),I=De(R);J(()=>{B&&(I==null||I())},[B,I]);const fe=(a=O.arrow)===null||a===void 0?void 0:a.x,ue=(i=O.arrow)===null||i===void 0?void 0:i.y,pe=((l=O.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[$e,me]=o.useState();return J(()=>{H&&me(window.getComputedStyle(H).zIndex)},[H]),o.createElement("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(u=O.transformOrigin)===null||u===void 0?void 0:u.x,(w=O.transformOrigin)===null||w===void 0?void 0:w.y].join(" ")},dir:e.dir},o.createElement(qe,{scope:d,placedSide:U,onArrowChange:N,arrowX:fe,arrowY:ue,shouldHideArrow:pe},o.createElement(Z.div,T({"data-side":U,"data-align":de},y,{ref:k,style:{...y.style,animation:B?void 0:"none",opacity:(p=O.hide)!==null&&p!==void 0&&p.referenceHidden?0:void 0}}))))}),Ge="PopperArrow",Je={top:"bottom",right:"left",bottom:"top",left:"right"},Ke=o.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Ue(Ge,n),l=Je[i.placedSide];return o.createElement("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0}},o.createElement(Xe,T({},a,{ref:r,style:{...a.style,display:"block"}})))});function Qe(e){return e!==null}const et=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,i,l;const{placement:u,rects:w,middlewareData:p}=t,f=((r=p.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,E=f?0:e.arrowWidth,$=f?0:e.arrowHeight,[A,M]=ie(u),h={start:"0%",center:"50%",end:"100%"}[M],S=((n=(a=p.arrow)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0)+E/2,g=((i=(l=p.arrow)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0)+$/2;let m="",s="";return A==="bottom"?(m=f?h:`${S}px`,s=`${-$}px`):A==="top"?(m=f?h:`${S}px`,s=`${w.floating.height+$}px`):A==="right"?(m=`${-$}px`,s=f?h:`${g}px`):A==="left"&&(m=`${w.floating.width+$}px`,s=f?h:`${g}px`),{data:{x:m,y:s}}}});function ie(e){const[t,r="center"]=e.split("-");return[t,r]}const st=Le,lt=Ze,dt=Ve,ft=Ke;export{ct as $,st as a,lt as b,dt as c,ft as d};
