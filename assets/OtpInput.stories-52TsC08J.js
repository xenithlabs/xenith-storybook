import{j as n}from"./jsx-runtime-DWbWqHZ-.js";import{r as s}from"./index-l2PZgWEW.js";import{c as d}from"./cn-C-5SdYIA.js";import{I as x}from"./useClickOutside-CRpIgq7P.js";import{h as P}from"./Heading-B_Jl69qA.js";import"./styles-BNEhTmYy.js";import"./index-Bb4qSo10.js";import"./Icon-ev__gahW.js";import"./search-BceqokmR.js";import"./close-Bwe4q-Z3.js";import"./stringCase-DaZl3p-i.js";import"./spinner-D3uK0xOl.js";import"./chevron-down-jNWesQvo.js";import"./check-4u3gJW-P.js";import"./index-BgmTQNcy.js";import"./index-CaNG7YX3.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-fvTbNGom.js";import"./floating-ui.dom-BuxmzwbT.js";import"./Button-BZP4uVeL.js";import"./index-Cm6j2cFO.js";import"./styles-DsUnyYA6.js";import"./index-DjcUcJmE.js";import"./Checkbox-BePh-fpO.js";import"./index-CZsjDy6p.js";import"./index-BmdjtsoG.js";import"./index-DZOIkxWA.js";const h=({onComplete:u,errorMessage:l,className:E,disabled:p})=>{const S=d("w-[48px] h-[48px] flex items-center justify-center",{"bg-bg-weaker":p}),[t,T]=s.useState(["","","","","",""]),v=i=>{p||T(i)},o=[s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null)],k=" ",y=typeof l=="string"&&l.length>0;return s.useEffect(()=>{t.filter(i=>i!=="").length===t.length&&u(t.join(""))},[t]),n.jsxs("div",{className:d("grid gap-2 min-w-[400px]",E),children:[n.jsx("div",{className:"flex justify-between",children:t.map((i,e)=>n.jsx(x,{value:i,ref:o[e],onKeyDown:r=>{var c;if(p){r.stopPropagation(),r.preventDefault();return}t[e]===""&&r.code.toLowerCase()==="backspace"&&e!==0&&((c=o[e-1].current)==null||c.focus()),t[e]!==""&&r.code.toLowerCase()==="enter"&&e===t.length-1&&u(t.join(""))},onChange:r=>{var c,g,R,j;if(!(r.target.value.length&&!/^[0-9]+$/gim.test(r.target.value))&&!(r.target.value.length>1&&e===t.length-1)){if(r.target.value.length>1&&e!==t.length-1){const a=r.target.value[r.target.value.length-1];v(t.map((_,q)=>q===e+1?a:_)),(c=o[e+1].current)==null||c.focus();return}if(r.target.value.length===1&&e!==t.length-1&&((g=o[e+1].current)==null||g.focus()),r.target.value.length<1&&e!==0&&((R=o[e-1].current)==null||R.focus()),t[e].length&&r.target.value.length&&e!==t.length-1){(j=o[e+1].current)==null||j.focus();return}v(t.map((a,b)=>e===b?r.target.value:a))}},error:y,containerClassName:S,className:d("text-center",P({variant:"titleMd"}),{"bg-bg-weaker":p}),placeholder:k},e))}),y&&n.jsx("div",{children:n.jsx("p",{className:"text-text-critical",children:l})})]})};h.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{onComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: string) => void",signature:{arguments:[{type:{name:"string"},name:"values"}],return:{name:"void"}}},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const ie={title:"Xenith UI/Components/OtpInput",parameters:{layout:"centered",docs:{subtitle:"Displays a form input field or a component that looks like an input field."}},tags:["autodocs"]},m={render:()=>n.jsx("div",{className:"grid gap-1",children:n.jsx(h,{onComplete:()=>console.log("yey complete")})})},f={render:()=>{const[u,l]=s.useState(!1);return n.jsx("div",{className:"grid gap-1",children:n.jsx(h,{onComplete:()=>{l(!0),console.log("yey complete")},disabled:u,errorMessage:"OTP you have entered is incorrect"})})}};var N,C,w;m.parameters={...m.parameters,docs:{...(N=m.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: () => <div className="grid gap-1">
      <OtpInput onComplete={() => console.log("yey complete")} />
    </div>
}`,...(w=(C=m.parameters)==null?void 0:C.docs)==null?void 0:w.source}}};var I,D,O;f.parameters={...f.parameters,docs:{...(I=f.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: () => {
    const [disabled, setDisabled] = useState(false);
    return <div className="grid gap-1">
        <OtpInput onComplete={() => {
        setDisabled(true);
        console.log("yey complete");
      }} disabled={disabled} errorMessage="OTP you have entered is incorrect" />
      </div>;
  }
}`,...(O=(D=f.parameters)==null?void 0:D.docs)==null?void 0:O.source}}};const ce=["Default","WithError"];export{m as Default,f as WithError,ce as __namedExportsOrder,ie as default};
