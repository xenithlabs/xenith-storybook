import{j as o}from"./jsx-runtime-DR9Q75dM.js";import{c as T}from"./cn-8RyR4BqC.js";import{F as w}from"./clock-DRhx3Wks.js";import{r as n}from"./index-DRjF_FHU.js";import{T as I}from"./Text-C8HBwI4b.js";import{I as S}from"./Icon-CTnhpE1d.js";const p=n.createContext({}),j=({initialDuration:r=1e4,step:u=1e3,onCountdownEnd:l=()=>{},children:i})=>{const e=n.useRef(),[t,a]=n.useState(r),s=()=>{a(0),e.current&&clearInterval(e.current),e.current=null},d=()=>{e.current&&clearInterval(e.current),e.current=setInterval(()=>{if(t<=0){s(),l();return}a(c=>c-u)},u)},m=()=>{s(),a(r),d()};n.useEffect(()=>(m(),()=>{s()}),[r]),n.useEffect(()=>{t<=0&&s()},[t]);const{hours:f,minutes:x,seconds:v}=n.useMemo(()=>{const c=Math.floor(t/1e3),h=Math.floor(c/3600),g=Math.floor(c%3600/60),C=c%60;return{hours:h,minutes:g,seconds:C}},[t]);return o.jsx(p.Provider,{value:{hours:f,minutes:x,seconds:v},children:i})},y=({className:r,icon:u=o.jsx(S,{className:"text-text-warning",icon:o.jsx(w,{})}),...l})=>{const{hours:i,minutes:e,seconds:t}=n.useContext(p),a=String(i).padStart(2,"0"),s=String(e).padStart(2,"0"),d=String(t).padStart(2,"0"),m=i>0?`${a}:${s}:${d}`:`${s}:${d}`;return o.jsxs("div",{...l,className:T("text-text-warning flex items-center gap-1",r),children:[o.jsx("span",{className:"relative top-[2px]",children:u}),o.jsx(I,{variant:"semiBold",children:m})]})};j.__docgenInfo={description:"",methods:[],displayName:"Countdown",props:{initialDuration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10000",computed:!1}},onCountdownEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1}},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}}},composes:["PropsWithChildren"]};y.__docgenInfo={description:"",methods:[],displayName:"CountdownText",props:{icon:{required:!1,tsType:{name:"ReactNode"},description:"",defaultValue:{value:'<Icon className="text-text-warning" icon={<ClockIcon />} />',computed:!1}}},composes:["HTMLAttributes"]};export{j as C,y as a};
