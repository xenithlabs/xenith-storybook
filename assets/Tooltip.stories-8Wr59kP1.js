import{j as l}from"./jsx-runtime-DWbWqHZ-.js";import{r as o}from"./index-l2PZgWEW.js";import{_ as g,c as pe,d as fe,e as ue,a as te,b as $e,f as y}from"./index-BgmTQNcy.js";import{$ as me,a as xe}from"./index-C76mvIvD.js";import{$ as he}from"./index-DPMSfDr2.js";import{$ as oe,a as ve,b as be,c as Te}from"./index-CfbDgQ9C.js";import{$ as ne}from"./index-DZOIkxWA.js";import{$ as ge}from"./index-vMKBQQL5.js";import{c as re}from"./cn-C-5SdYIA.js";import{I as M}from"./Icon-BVoV0EQW.js";import{F as S}from"./info-BBTJuiSU.js";import{T as ae}from"./Text-ceT8JLbM.js";import"./index-CaNG7YX3.js";import"./floating-ui.dom-BuxmzwbT.js";import"./index-BmdjtsoG.js";import"./index-Bb4qSo10.js";import"./index-Cm6j2cFO.js";import"./styles-BNEhTmYy.js";const ye=o.forwardRef((t,n)=>{const{children:e,...r}=t,a=o.Children.toArray(e),c=a.find(Ce);if(c){const s=c.props.children,p=a.map(i=>i===c?o.Children.count(s)>1?o.Children.only(null):o.isValidElement(s)?s.props.children:null:i);return o.createElement(L,g({},r,{ref:n}),o.isValidElement(s)?o.cloneElement(s,void 0,p):null)}return o.createElement(L,g({},r,{ref:n}),e)});ye.displayName="Slot";const L=o.forwardRef((t,n)=>{const{children:e,...r}=t;return o.isValidElement(e)?o.cloneElement(e,{...Ee(r,e.props),ref:n?pe(n,e.ref):e.ref}):o.Children.count(e)>1?o.Children.only(null):null});L.displayName="SlotClone";const ce=({children:t})=>o.createElement(o.Fragment,null,t);function Ce(t){return o.isValidElement(t)&&t.type===ce}function Ee(t,n){const e={...n};for(const r in n){const a=t[r],c=n[r];/^on[A-Z]/.test(r)?a&&c?e[r]=(...p)=>{c(...p),a(...p)}:a&&(e[r]=a):r==="style"?e[r]={...a,...c}:r==="className"&&(e[r]=[a,c].filter(Boolean).join(" "))}return{...t,...e}}const[A,dt]=fe("Tooltip",[oe]),H=oe(),we="TooltipProvider",Pe=700,k="tooltip.open",[_e,V]=A(we),je=t=>{const{__scopeTooltip:n,delayDuration:e=Pe,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:c}=t,[s,p]=o.useState(!0),i=o.useRef(!1),f=o.useRef(0);return o.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),o.createElement(_e,{scope:n,isOpenDelayed:s,delayDuration:e,onOpen:o.useCallback(()=>{window.clearTimeout(f.current),p(!1)},[]),onClose:o.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>p(!0),r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:o.useCallback(d=>{i.current=d},[]),disableHoverableContent:a},c)},F="Tooltip",[Oe,_]=A(F),De=t=>{const{__scopeTooltip:n,children:e,open:r,defaultOpen:a=!1,onOpenChange:c,disableHoverableContent:s,delayDuration:p}=t,i=V(F,t.__scopeTooltip),f=H(n),[d,u]=o.useState(null),x=he(),$=o.useRef(0),m=s??i.disableHoverableContent,v=p??i.delayDuration,h=o.useRef(!1),[T=!1,b]=ue({prop:r,defaultProp:a,onChange:U=>{U?(i.onOpen(),document.dispatchEvent(new CustomEvent(k))):i.onClose(),c==null||c(U)}}),C=o.useMemo(()=>T?h.current?"delayed-open":"instant-open":"closed",[T]),E=o.useCallback(()=>{window.clearTimeout($.current),h.current=!1,b(!0)},[b]),w=o.useCallback(()=>{window.clearTimeout($.current),b(!1)},[b]),B=o.useCallback(()=>{window.clearTimeout($.current),$.current=window.setTimeout(()=>{h.current=!0,b(!0)},v)},[v,b]);return o.useEffect(()=>()=>window.clearTimeout($.current),[]),o.createElement(ve,f,o.createElement(Oe,{scope:n,contentId:x,open:T,stateAttribute:C,trigger:d,onTriggerChange:u,onTriggerEnter:o.useCallback(()=>{i.isOpenDelayed?B():E()},[i.isOpenDelayed,B,E]),onTriggerLeave:o.useCallback(()=>{m?w():window.clearTimeout($.current)},[w,m]),onOpen:E,onClose:w,disableHoverableContent:m},e))},q="TooltipTrigger",Re=o.forwardRef((t,n)=>{const{__scopeTooltip:e,...r}=t,a=_(q,e),c=V(q,e),s=H(e),p=o.useRef(null),i=te(n,p,a.onTriggerChange),f=o.useRef(!1),d=o.useRef(!1),u=o.useCallback(()=>f.current=!1,[]);return o.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),o.createElement(be,g({asChild:!0},s),o.createElement($e.button,g({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},r,{ref:i,onPointerMove:y(t.onPointerMove,x=>{x.pointerType!=="touch"&&!d.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:y(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:y(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:y(t.onFocus,()=>{f.current||a.onOpen()}),onBlur:y(t.onBlur,a.onClose),onClick:y(t.onClick,a.onClose)})))}),se="TooltipPortal",[Ie,Ne]=A(se,{forceMount:void 0}),ie=t=>{const{__scopeTooltip:n,forceMount:e,children:r,container:a}=t,c=_(se,n);return o.createElement(Ie,{scope:n,forceMount:e},o.createElement(ne,{present:e||c.open},o.createElement(me,{asChild:!0,container:a},r)))},P="TooltipContent",Ae=o.forwardRef((t,n)=>{const e=Ne(P,t.__scopeTooltip),{forceMount:r=e.forceMount,side:a="top",...c}=t,s=_(P,t.__scopeTooltip);return o.createElement(ne,{present:r||s.open},s.disableHoverableContent?o.createElement(le,g({side:a},c,{ref:n})):o.createElement(Le,g({side:a},c,{ref:n})))}),Le=o.forwardRef((t,n)=>{const e=_(P,t.__scopeTooltip),r=V(P,t.__scopeTooltip),a=o.useRef(null),c=te(n,a),[s,p]=o.useState(null),{trigger:i,onClose:f}=e,d=a.current,{onPointerInTransitChange:u}=r,x=o.useCallback(()=>{p(null),u(!1)},[u]),$=o.useCallback((m,v)=>{const h=m.currentTarget,T={x:m.clientX,y:m.clientY},b=Me(T,h.getBoundingClientRect()),C=Se(T,b),E=He(v.getBoundingClientRect()),w=Fe([...C,...E]);p(w),u(!0)},[u]);return o.useEffect(()=>()=>x(),[x]),o.useEffect(()=>{if(i&&d){const m=h=>$(h,d),v=h=>$(h,i);return i.addEventListener("pointerleave",m),d.addEventListener("pointerleave",v),()=>{i.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",v)}}},[i,d,$,x]),o.useEffect(()=>{if(s){const m=v=>{const h=v.target,T={x:v.clientX,y:v.clientY},b=(i==null?void 0:i.contains(h))||(d==null?void 0:d.contains(h)),C=!Ve(T,s);b?x():C&&(x(),f())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[i,d,s,f,x]),o.createElement(le,g({},t,{ref:c}))}),[ke,pt]=A(F,{isInside:!1}),le=o.forwardRef((t,n)=>{const{__scopeTooltip:e,children:r,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:s,...p}=t,i=_(P,e),f=H(e),{onClose:d}=i;return o.useEffect(()=>(document.addEventListener(k,d),()=>document.removeEventListener(k,d)),[d]),o.useEffect(()=>{if(i.trigger){const u=x=>{const $=x.target;$!=null&&$.contains(i.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[i.trigger,d]),o.createElement(xe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:s,onFocusOutside:u=>u.preventDefault(),onDismiss:d},o.createElement(Te,g({"data-state":i.stateAttribute},f,p,{ref:n,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),o.createElement(ce,null,r),o.createElement(ke,{scope:e,isInside:!0},o.createElement(ge,{id:i.contentId,role:"tooltip"},a||r))))});function Me(t,n){const e=Math.abs(n.top-t.y),r=Math.abs(n.bottom-t.y),a=Math.abs(n.right-t.x),c=Math.abs(n.left-t.x);switch(Math.min(e,r,a,c)){case c:return"left";case a:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Se(t,n,e=5){const r=[];switch(n){case"top":r.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":r.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":r.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":r.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return r}function He(t){const{top:n,right:e,bottom:r,left:a}=t;return[{x:a,y:n},{x:e,y:n},{x:e,y:r},{x:a,y:r}]}function Ve(t,n){const{x:e,y:r}=t;let a=!1;for(let c=0,s=n.length-1;c<n.length;s=c++){const p=n[c].x,i=n[c].y,f=n[s].x,d=n[s].y;i>r!=d>r&&e<(f-p)*(r-i)/(d-i)+p&&(a=!a)}return a}function Fe(t){const n=t.slice();return n.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),Ge(n)}function Ge(t){if(t.length<=1)return t.slice();const n=[];for(let r=0;r<t.length;r++){const a=t[r];for(;n.length>=2;){const c=n[n.length-1],s=n[n.length-2];if((c.x-s.x)*(a.y-s.y)>=(c.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}n.pop();const e=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;e.length>=2;){const c=e[e.length-1],s=e[e.length-2];if((c.x-s.x)*(a.y-s.y)>=(c.y-s.y)*(a.x-s.x))e.pop();else break}e.push(a)}return e.pop(),n.length===1&&e.length===1&&n[0].x===e[0].x&&n[0].y===e[0].y?n:n.concat(e)}const Be=je,Ue=De,qe=Re,de=Ae,G=Be,N=Ue,j=o.forwardRef(({className:t,...n})=>l.jsx(qe,{...n,className:re("inline-flex items-center",t)}));j.displayName="TooltipTrigger";const O=o.forwardRef(({className:t,sideOffset:n=4,children:e,...r},a)=>l.jsx(de,{ref:a,sideOffset:n,className:re("z-50 overflow-hidden rounded-md bg-bg-inverse px-3 py-1.5 left-0 text-white animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r,children:e}));O.displayName=de.displayName;j.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger"};O.__docgenInfo={description:"",methods:[],props:{sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const ft={title:"Xenith UI/Components/Tooltip",component:N,tags:["autodocs"],parameters:{docs:{source:{type:"dynamic"}}},render:()=>l.jsxs("div",{className:"relative inline-flex items-center gap-1",children:["just text",l.jsx(G,{children:l.jsxs(N,{children:[l.jsx(j,{children:l.jsx(M,{icon:l.jsx(S,{})})}),l.jsx(O,{children:l.jsx("p",{children:"Add to library"})})]})})]})},D={},R={render:()=>l.jsx("div",{className:"relative",children:l.jsx(G,{children:l.jsxs(N,{children:[l.jsx(j,{asChild:!0,children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx(ae,{children:"sEcond tooltip"}),l.jsx(M,{icon:l.jsx(S,{})})]})}),l.jsx(ie,{children:l.jsx(O,{side:"left",sideOffset:40,align:"start",children:l.jsx("p",{children:"Add to library"})})})]})})})},I={render:()=>l.jsx("div",{className:"relative flex justify-center",children:l.jsx(G,{children:l.jsxs(N,{children:[l.jsx(j,{asChild:!0,children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx(ae,{children:"sEcond tooltip"}),l.jsx(M,{icon:l.jsx(S,{})})]})}),l.jsx(ie,{children:l.jsx(O,{side:"left",sideOffset:500,align:"start",children:l.jsx("p",{children:"Add to library"})})})]})})})};var z,K,X;D.parameters={...D.parameters,docs:{...(z=D.parameters)==null?void 0:z.docs,source:{originalSource:"{}",...(X=(K=D.parameters)==null?void 0:K.docs)==null?void 0:X.source}}};var Y,W,Z;R.parameters={...R.parameters,docs:{...(Y=R.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  render: () => <div className="relative">
      <TooltipProvider>
        <Tooltip>
          <TooltipTrigger asChild>
            <div className="flex gap-1">
              <Text>sEcond tooltip</Text>
              <Icon icon={<InfoIcon />} />
            </div>
          </TooltipTrigger>
          <TooltipPortal>
            <TooltipContent side="left" sideOffset={40} align="start">
              <p>Add to library</p>
            </TooltipContent>
          </TooltipPortal>
        </Tooltip>
      </TooltipProvider>
    </div>
}`,...(Z=(W=R.parameters)==null?void 0:W.docs)==null?void 0:Z.source}}};var J,Q,ee;I.parameters={...I.parameters,docs:{...(J=I.parameters)==null?void 0:J.docs,source:{originalSource:`{
  render: () => <div className="relative flex justify-center">
      <TooltipProvider>
        <Tooltip>
          <TooltipTrigger asChild>
            <div className="flex gap-1">
              <Text>sEcond tooltip</Text>
              <Icon icon={<InfoIcon />} />
            </div>
          </TooltipTrigger>
          <TooltipPortal>
            <TooltipContent side="left" sideOffset={500} align="start">
              <p>Add to library</p>
            </TooltipContent>
          </TooltipPortal>
        </Tooltip>
      </TooltipProvider>
    </div>
}`,...(ee=(Q=I.parameters)==null?void 0:Q.docs)==null?void 0:ee.source}}};const ut=["Default","NewStory","WithLeftOffset"];export{D as Default,R as NewStory,I as WithLeftOffset,ut as __namedExportsOrder,ft as default};
