import{j as d}from"./jsx-runtime-BhBAkL08.js";import{r as o}from"./index-caxmlYbZ.js";import"./index-DIE_uK0V.js";import{S as k}from"./index-D09aQd82.js";import{c as g}from"./cn-C-5SdYIA.js";function F(e,t=[]){let a=[];function r(u,i){const n=o.createContext(i),c=a.length;a=[...a,i];function l(m){const{scope:f,children:v,...p}=m,M=(f==null?void 0:f[e][c])||n,$=o.useMemo(()=>p,Object.values(p));return d.jsx(M.Provider,{value:$,children:v})}function A(m,f){const v=(f==null?void 0:f[e][c])||n,p=o.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${u}\``)}return l.displayName=u+"Provider",[l,A]}const s=()=>{const u=a.map(i=>o.createContext(i));return function(n){const c=(n==null?void 0:n[e])||u;return o.useMemo(()=>({[`__scope${e}`]:{...n,[e]:c}}),[n,c])}};return s.scopeName=e,[r,T(s,...t)]}function T(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(u){const i=r.reduce((n,{useScope:c,scopeName:l})=>{const m=c(u)[`__scope${l}`];return{...n,...m}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}function B(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...a)=>{var r;return(r=t.current)==null?void 0:r.call(t,...a)},[])}var w=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],x=O.reduce((e,t)=>{const a=o.forwardRef((r,s)=>{const{asChild:u,...i}=r,n=u?k:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(n,{...i,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),S="Avatar",[q,Q]=F(S),[D,h]=q(S),_=o.forwardRef((e,t)=>{const{__scopeAvatar:a,...r}=e,[s,u]=o.useState("idle");return d.jsx(D,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:u,children:d.jsx(x.span,{...r,ref:t})})});_.displayName=S;var C="AvatarImage",N=o.forwardRef((e,t)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:s=()=>{},...u}=e,i=h(C,a),n=G(r),c=B(l=>{s(l),i.onImageLoadingStatusChange(l)});return w(()=>{n!=="idle"&&c(n)},[n,c]),n==="loaded"?d.jsx(x.img,{...u,ref:t,src:r}):null});N.displayName=C;var y="AvatarFallback",I=o.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:r,...s}=e,u=h(y,a),[i,n]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>n(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&u.imageLoadingStatus!=="loaded"?d.jsx(x.span,{...s,ref:t}):null});I.displayName=y;function G(e){const[t,a]=o.useState("idle");return w(()=>{if(!e){a("error");return}let r=!0;const s=new window.Image,u=i=>()=>{r&&a(i)};return a("loading"),s.onload=u("loaded"),s.onerror=u("error"),s.src=e,()=>{r=!1}},[e]),t}var L=_,j=N,R=I;const b=o.forwardRef(({className:e,...t},a)=>d.jsx(L,{ref:a,className:g("relative flex h-6 w-6 shrink-0 overflow-hidden rounded-full",e),...t}));b.displayName=L.displayName;const E=o.forwardRef(({className:e,...t},a)=>d.jsx(j,{ref:a,className:g("aspect-square h-full w-full",e),...t}));E.displayName=j.displayName;const P=o.forwardRef(({className:e,...t},a)=>d.jsx(R,{ref:a,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));P.displayName=R.displayName;b.__docgenInfo={description:"",methods:[]};E.__docgenInfo={description:"",methods:[]};P.__docgenInfo={description:"",methods:[]};export{b as A,E as a};
