import{j as o}from"./jsx-runtime-DWbWqHZ-.js";import{r as n}from"./index-l2PZgWEW.js";import{c as b}from"./cn-C-5SdYIA.js";import{I as K}from"./useClickOutside-DQJK4-Xa.js";import{h as U}from"./Heading-B_Jl69qA.js";import"./styles-BNEhTmYy.js";import"./index-Bb4qSo10.js";import"./Icon-ev__gahW.js";import"./search-BceqokmR.js";import"./close-Bwe4q-Z3.js";import"./stringCase-DaZl3p-i.js";import"./spinner-D3uK0xOl.js";import"./chevron-down-jNWesQvo.js";import"./check-4u3gJW-P.js";import"./index-BgmTQNcy.js";import"./index-CaNG7YX3.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-fvTbNGom.js";import"./floating-ui.dom-BuxmzwbT.js";import"./Button--egxP2zT.js";import"./index-Cm6j2cFO.js";import"./styles-DsUnyYA6.js";import"./index-DjcUcJmE.js";import"./Checkbox-BePh-fpO.js";import"./index-CZsjDy6p.js";import"./index-BmdjtsoG.js";import"./index-DZOIkxWA.js";const N=({onComplete:a,onClear:v,errorMessage:y,className:P,disabled:u})=>{const V=b("w-[48px] h-[48px] flex items-center justify-center",{"bg-bg-weaker":u}),[r,L]=n.useState(["","","","","",""]),i=R=>{u||L(R)},c=[n.useRef(null),n.useRef(null),n.useRef(null),n.useRef(null),n.useRef(null),n.useRef(null)],M=" ",w=typeof y=="string"&&y.length>0&&r.join("").length>0;return n.useEffect(()=>{r.join("").length===0&&v()},[r.join("")]),o.jsxs("div",{className:b("grid gap-2 min-w-[400px]",P),children:[o.jsx("div",{className:"flex justify-between",children:r.map((R,e)=>o.jsx(K,{value:R,ref:t=>{console.log(t),t&&e===0&&t.focus()},onKeyDown:t=>{var p;if(u){t.stopPropagation(),t.preventDefault();return}r[e]===""&&t.code.toLowerCase()==="backspace"&&e!==0&&((p=c[e-1].current)==null||p.focus(),i(r.map((m,f)=>f===e?"":m))),r[e]!==""&&t.code.toLowerCase()==="enter"&&e===r.length-1&&a(r.join(""))},onChange:t=>{var j,m,f,I,D;if(t.target.value.length&&!/^[0-9]+$/gim.test(t.target.value))return;if(t.target.value.length>1){if(e!==r.length-1){const s=t.target.value[t.target.value.length-1],l=r.map((C,W)=>W===e+1?s:C);i(l),(j=c[e+1].current)==null||j.focus(),r.filter(C=>C!=="").length===r.length-1&&a(l.join(""))}return}const p=r.filter(s=>s!=="").length;if(t.target.value.length&&p===r.length-1){const s=r.map((l,g)=>g===e?t.target.value:l);a(s.join("")),i(s);return}if(t.target.value.length>1&&e!==r.length-1){const s=t.target.value[t.target.value.length-1];i(r.map((g,O)=>O===e+1?s:g)),(m=c[e+1].current)==null||m.focus();return}if(t.target.value.length===1&&e!==r.length-1&&((f=c[e+1].current)==null||f.focus()),t.target.value.length<1&&e!==0&&((I=c[e-1].current)==null||I.focus()),r[e].length&&t.target.value.length&&e!==r.length-1){(D=c[e+1].current)==null||D.focus();return}i(r.map((s,l)=>e===l?t.target.value:s))},error:w,containerClassName:V,className:b("text-center",U({variant:"titleMd"}),{"bg-bg-weaker":u}),placeholder:M},e))}),w&&o.jsx("div",{children:o.jsx("p",{className:"text-text-critical",children:y})})]})};N.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{onComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: string) => void",signature:{arguments:[{type:{name:"string"},name:"values"}],return:{name:"void"}}},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const fe={title:"Xenith UI/Components/OtpInput",parameters:{layout:"centered",docs:{subtitle:"Displays a form input field or a component that looks like an input field."}},tags:["autodocs"]},d={render:()=>o.jsx("div",{className:"grid gap-1",children:o.jsx(N,{onComplete:a=>console.log("yey complete",a)})})},h={render:()=>{const[a,v]=n.useState(!1);return o.jsx("div",{className:"grid gap-1",children:o.jsx(N,{onComplete:()=>{v(!0),console.log("yey complete")},disabled:a,errorMessage:"OTP you have entered is incorrect"})})}};var E,S,T;d.parameters={...d.parameters,docs:{...(E=d.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: () => <div className="grid gap-1">
      <OtpInput onComplete={v => console.log("yey complete", v)} />
    </div>
}`,...(T=(S=d.parameters)==null?void 0:S.docs)==null?void 0:T.source}}};var k,_,q;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => {
    const [disabled, setDisabled] = useState(false);
    return <div className="grid gap-1">
        <OtpInput onComplete={() => {
        setDisabled(true);
        console.log("yey complete");
      }} disabled={disabled} errorMessage="OTP you have entered is incorrect" />
      </div>;
  }
}`,...(q=(_=h.parameters)==null?void 0:_.docs)==null?void 0:q.source}}};const ge=["Default","WithError"];export{d as Default,h as WithError,ge as __namedExportsOrder,fe as default};
