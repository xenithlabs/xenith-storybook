import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{r as l}from"./index-DRjF_FHU.js";import{c as k}from"./cn-8RyR4BqC.js";import{S as q,b as D,c as E,f as H,a as U,g as z}from"./Sheet-CiaDKmMi.js";import{F as W}from"./close-D2djoYoT.js";import{h as X}from"./Heading-DjlBwQyS.js";import{B as j}from"./Button-DZCl7_eM.js";import{I as G}from"./Icon-CTnhpE1d.js";import{d as J}from"./useClickOutside-DPZaUZcB.js";import{T as L,a as Q,b as N,c as y,d as Y,e as h}from"./Table-CtPtSD7B.js";import"./index-BoPx_Bfl.js";import"./index-DuXoWBk8.js";import"./index-CxRLcT2J.js";import"./index-qtGI3euC.js";import"./index-DdILnG7L.js";import"./index-Bq6ilrdN.js";import"./index-BhXpUKZt.js";import"./index-Bb4qSo10.js";import"./index-HZDBD2ik.js";import"./styles-x1yxmyQd.js";import"./spinner-ojW7ALd7.js";import"./chevron-down-CyV3wpL8.js";import"./stringCase-DaZl3p-i.js";import"./search-5X7N_xNn.js";import"./mini-FlV67GHA.js";import"./floating-ui.dom-BuxmzwbT.js";import"./check-C0C6JGvp.js";import"./clock-DRhx3Wks.js";import"./index-CAHntWCK.js";import"./Checkbox-LSeb53hr.js";import"./index-Bu1UD4WD.js";import"./index-KY2xTor3.js";import"./Text-C8HBwI4b.js";import"./reset-m4jX0AX_.js";const I=l.createContext({filter:{},open:!1,setOpen:()=>{},setFilter:()=>{},onApply:()=>{},onReset:()=>{},setFilterByKey:()=>{}}),T=()=>{const{filter:r,setFilterByKey:n,onApply:a,onReset:s,setOpen:o,open:t}=l.useContext(I),m=Object.keys(r).length;return{filter:r,setFilterByKey:n,onApply:a,onReset:s,setOpen:o,open:t,filterCount:m}},S=r=>{const{open:n,setOpen:a}=T();return e.jsx(q,{...r,open:n,onOpenChange:a})};S.displayName="FilterSheet";const B=D;B.displayName="FilterSheetContent";const M=z;M.displayName="FilterSheetClose";const O=({children:r,className:n})=>e.jsx(E,{children:e.jsxs("div",{className:k(X({variant:"titleMd",className:"text-text-default font-semibold justify-between flex items-center"})),children:[e.jsx("div",{className:n,children:r}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(M,{asChild:!0,children:e.jsx(j,{type:"button",iconOnly:!0,icon:e.jsx(G,{icon:e.jsx(W,{})}),size:"xs",theme:"neutral",variant:"nude"})})})]})}),R=()=>{const{onApply:r,setOpen:n,onReset:a}=T();return e.jsxs(H,{children:[e.jsx(j,{type:"button",theme:"neutral",variant:"outline",onClick:()=>{n(!1),a()},children:"Cancel"}),e.jsx(j,{type:"button",onClick:()=>r(),children:"Apply Filter"})]})},V=U;V.displayName="SheetTrigger";S.__docgenInfo={description:"",methods:[],displayName:"FilterSheet"};O.__docgenInfo={description:"",methods:[],displayName:"FilterHeader"};R.__docgenInfo={description:"",methods:[],displayName:"FilterFooter"};const C=({children:r,onApply:n,searchParams:a,onSearchParamsChanged:s})=>{const[o,t]=l.useState({}),[m,p]=l.useState(!1),x=i=>()=>{n(i),p(!1)},v=(i,d)=>{t(g=>({...g,[i]:d}))},K=i=>{const d=Object.keys(o),g=Array.isArray(i)?i:[i],_=i?g:d,$=d.reduce((c,u)=>_.includes(u)?(c[u]=null,c):(c[u]=o[u],c),{});t($)};return l.useEffect(()=>{s&&s(o,a,v)},[a,s]),e.jsx(I.Provider,{value:{filter:o,setFilter:t,setFilterByKey:v,open:m,setOpen:p,onReset:K,onApply:x(o)},children:r})};C.__docgenInfo={description:"",methods:[],displayName:"FilterProvider",props:{onApply:{required:!0,tsType:{name:"signature",type:"function",raw:"(filter: FilterType) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"union",raw:"null | string | string[]",elements:[{name:"null"},{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]}],raw:"Record<string, FilterValueType>"},name:"filter"}],return:{name:"void"}}},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"void"}}},description:""},searchParams:{required:!1,tsType:{name:"T"},description:""},onSearchParamsChanged:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  filter: FilterType,
  updatedParams: T,
  setFilterKey: FilterContextType["setFilterByKey"],
) => void`,signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"union",raw:"null | string | string[]",elements:[{name:"null"},{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]}],raw:"Record<string, FilterValueType>"},name:"filter"},{type:{name:"T"},name:"updatedParams"},{type:{name:'FilterContextType["setFilterByKey"]',raw:'FilterContextType["setFilterByKey"]'},name:"setFilterKey"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren"]};const b=[{invoice:"INV001",paymentStatus:"Paid",totalAmount:"$250.00",paymentMethod:"Credit Card"},{invoice:"INV002",paymentStatus:"Pending",totalAmount:"$150.00",paymentMethod:"PayPal"},{invoice:"INV003",paymentStatus:"Unpaid",totalAmount:"$350.00",paymentMethod:"Bank Transfer"},{invoice:"INV004",paymentStatus:"Paid",totalAmount:"$450.00",paymentMethod:"Credit Card"},{invoice:"INV005",paymentStatus:"Paid",totalAmount:"$550.00",paymentMethod:"PayPal"},{invoice:"INV006",paymentStatus:"Pending",totalAmount:"$200.00",paymentMethod:"Bank Transfer"},{invoice:"INV007",paymentStatus:"Unpaid",totalAmount:"$300.00",paymentMethod:"Credit Card"}],F=[{label:"Credit Card",value:"Credit Card"},{label:"Bank Transfer",value:"Bank Transfer"},{label:"PayPal",value:"PayPal"}],Z=({filteredData:r})=>{const{filter:n,setFilterByKey:a}=T(),[s,o]=l.useState(F.find(t=>t.value===n.paymentMethod));return l.useEffect(()=>{o(F.find(t=>t.value===n.paymentMethod))},[n]),console.log(s),e.jsxs("div",{children:[e.jsxs(S,{children:[e.jsx(V,{}),e.jsxs(B,{children:[e.jsx(O,{}),e.jsx(J,{options:F,defaultValue:s,onChange:t=>{a("paymentMethod",t.value),o(t)}}),e.jsx(R,{})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(L,{children:[e.jsx(Q,{children:e.jsxs(N,{children:[e.jsx(y,{className:"w-[100px]",children:"Invoice"}),e.jsx(y,{children:"Status"}),e.jsx(y,{children:"Method"}),e.jsx(y,{className:"text-right",children:"Amount"})]})}),e.jsx(Y,{children:r.map(t=>e.jsxs(N,{children:[e.jsx(h,{className:"font-medium",children:t.invoice}),e.jsx(h,{children:t.paymentStatus}),e.jsx(h,{children:t.paymentMethod}),e.jsx(h,{className:"text-right",children:t.totalAmount})]},t.invoice))})]})})]})},Re={title:"Xenith UI/Components/Filter",tags:["autodocs"],component:C,argTypes:{children:{type:"function",description:"`ReactNode`"}},args:{onApply:()=>{}},render:r=>{const[n,a]=l.useState(b);return e.jsx(C,{...r,onApply:s=>{const t=Object.keys(s).reduce((m,p)=>m.filter(x=>x[p]===s[p]),b);a(t)},children:e.jsx(Z,{filteredData:n})})}},f={};var A,P,w;f.parameters={...f.parameters,docs:{...(A=f.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(w=(P=f.parameters)==null?void 0:P.docs)==null?void 0:w.source}}};const Ve=["Default"];export{f as Default,Ve as __namedExportsOrder,Re as default};
