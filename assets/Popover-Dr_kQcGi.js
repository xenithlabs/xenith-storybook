import{j as x}from"./jsx-runtime-BhBAkL08.js";import{r as e,a as M}from"./index-caxmlYbZ.js";import{_ as i,c as N,d as S,e as T,a as C,b as k,f as v}from"./index-d7ziAqdJ.js";import{$ as V,a as j}from"./index-CoQPK225.js";import{h as K,R as z,$ as H,a as q}from"./index-D0ZzT1CX.js";import{$ as G}from"./index-9ELtA30B.js";import{$ as E,a as L,b as Z,c as B}from"./index-CYGPaFfr.js";import{$ as O}from"./index-D1_gb_Tp.js";import{c as U}from"./cn-C-5SdYIA.js";const R=e.forwardRef((o,s)=>{const{children:t,...r}=o,n=e.Children.toArray(t),c=n.find(Q);if(c){const a=c.props.children,d=n.map(l=>l===c?e.Children.count(a)>1?e.Children.only(null):e.isValidElement(a)?a.props.children:null:l);return e.createElement(h,i({},r,{ref:s}),e.isValidElement(a)?e.cloneElement(a,void 0,d):null)}return e.createElement(h,i({},r,{ref:s}),t)});R.displayName="Slot";const h=e.forwardRef((o,s)=>{const{children:t,...r}=o;return e.isValidElement(t)?e.cloneElement(t,{...W(r,t.props),ref:s?N(s,t.ref):t.ref}):e.Children.count(t)>1?e.Children.only(null):null});h.displayName="SlotClone";const J=({children:o})=>e.createElement(e.Fragment,null,o);function Q(o){return e.isValidElement(o)&&o.type===J}function W(o,s){const t={...s};for(const r in s){const n=o[r],c=s[r];/^on[A-Z]/.test(r)?n&&c?t[r]=(...d)=>{c(...d),n(...d)}:n&&(t[r]=n):r==="style"?t[r]={...n,...c}:r==="className"&&(t[r]=[n,c].filter(Boolean).join(" "))}return{...o,...t}}const _="Popover",[A,Pe]=S(_,[E]),P=E(),[X,u]=A(_),Y=o=>{const{__scopePopover:s,children:t,open:r,defaultOpen:n,onOpenChange:c,modal:a=!1}=o,d=P(s),l=e.useRef(null),[p,b]=e.useState(!1),[m=!1,f]=T({prop:r,defaultProp:n,onChange:c});return e.createElement(L,d,e.createElement(X,{scope:s,contentId:G(),triggerRef:l,open:m,onOpenChange:f,onOpenToggle:e.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:p,onCustomAnchorAdd:e.useCallback(()=>b(!0),[]),onCustomAnchorRemove:e.useCallback(()=>b(!1),[]),modal:a},t))},ee="PopoverTrigger",oe=e.forwardRef((o,s)=>{const{__scopePopover:t,...r}=o,n=u(ee,t),c=P(t),a=C(s,n.triggerRef),d=e.createElement(k.button,i({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":y(n.open)},r,{ref:a,onClick:v(o.onClick,n.onOpenToggle)}));return n.hasCustomAnchor?d:e.createElement(Z,i({asChild:!0},c),d)}),w="PopoverPortal",[te,ce]=A(w,{forceMount:void 0}),re=o=>{const{__scopePopover:s,forceMount:t,children:r,container:n}=o,c=u(w,s);return e.createElement(te,{scope:s,forceMount:t},e.createElement(O,{present:t||c.open},e.createElement(V,{asChild:!0,container:n},r)))},$="PopoverContent",ne=e.forwardRef((o,s)=>{const t=ce($,o.__scopePopover),{forceMount:r=t.forceMount,...n}=o,c=u($,o.__scopePopover);return e.createElement(O,{present:r||c.open},c.modal?e.createElement(ae,i({},n,{ref:s})):e.createElement(se,i({},n,{ref:s})))}),ae=e.forwardRef((o,s)=>{const t=u($,o.__scopePopover),r=e.useRef(null),n=C(s,r),c=e.useRef(!1);return e.useEffect(()=>{const a=r.current;if(a)return K(a)},[]),e.createElement(z,{as:R,allowPinchZoom:!0},e.createElement(F,i({},o,{ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(o.onCloseAutoFocus,a=>{var d;a.preventDefault(),c.current||(d=t.triggerRef.current)===null||d===void 0||d.focus()}),onPointerDownOutside:v(o.onPointerDownOutside,a=>{const d=a.detail.originalEvent,l=d.button===0&&d.ctrlKey===!0,p=d.button===2||l;c.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:v(o.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),se=e.forwardRef((o,s)=>{const t=u($,o.__scopePopover),r=e.useRef(!1),n=e.useRef(!1);return e.createElement(F,i({},o,{ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var a;if((a=o.onCloseAutoFocus)===null||a===void 0||a.call(o,c),!c.defaultPrevented){var d;r.current||(d=t.triggerRef.current)===null||d===void 0||d.focus(),c.preventDefault()}r.current=!1,n.current=!1},onInteractOutside:c=>{var a,d;(a=o.onInteractOutside)===null||a===void 0||a.call(o,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=c.target;((d=t.triggerRef.current)===null||d===void 0?void 0:d.contains(l))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&n.current&&c.preventDefault()}}))}),F=e.forwardRef((o,s)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:c,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:l,onFocusOutside:p,onInteractOutside:b,...m}=o,f=u($,t),g=P(t);return H(),e.createElement(q,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:c},e.createElement(j,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:b,onEscapeKeyDown:d,onPointerDownOutside:l,onFocusOutside:p,onDismiss:()=>f.onOpenChange(!1)},e.createElement(B,i({"data-state":y(f.open),role:"dialog",id:f.contentId},g,m,{ref:s,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function y(o){return o?"open":"closed"}const de=Y,le=oe,ie=re,D=ne,xe=de,Ce=le,I=M.forwardRef(({className:o,align:s="center",sideOffset:t=4,...r},n)=>x.jsx(ie,{children:x.jsx(D,{ref:n,align:s,sideOffset:t,className:U("z-50 rounded-md border bg-white p-2 text-text-default shadow-dropdown outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r})}));I.displayName=D.displayName;I.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};export{xe as P,Ce as a,I as b};
